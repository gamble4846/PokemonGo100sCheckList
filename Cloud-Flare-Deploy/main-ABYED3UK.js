var j0=Object.create;var Ro=Object.defineProperty,V0=Object.defineProperties,U0=Object.getOwnPropertyDescriptor,B0=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertyNames,Kg=Object.getOwnPropertySymbols,H0=Object.getPrototypeOf,Jg=Object.prototype.hasOwnProperty,z0=Object.prototype.propertyIsEnumerable;var Zg=(n,e,t)=>e in n?Ro(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w=(n,e)=>{for(var t in e||={})Jg.call(e,t)&&Zg(n,t,e[t]);if(Kg)for(var t of Kg(e))z0.call(e,t)&&Zg(n,t,e[t]);return n},$=(n,e)=>V0(n,B0(e));var G0=(n,e)=>()=>(n&&(e=n(n=0)),e);var ar=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),q0=(n,e)=>{for(var t in e)Ro(n,t,{get:e[t],enumerable:!0})},Yg=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $0(e))!Jg.call(n,i)&&i!==t&&Ro(n,i,{get:()=>e[i],enumerable:!(r=U0(e,i))||r.enumerable});return n};var W0=(n,e,t)=>(t=n!=null?j0(H0(n)):{},Yg(e||!n||!n.__esModule?Ro(t,"default",{value:n,enumerable:!0}):t,n)),li=n=>Yg(Ro({},"__esModule",{value:!0}),n);var p=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var hr={};q0(hr,{__addDisposableResource:()=>Pm,__assign:()=>Ba,__asyncDelegator:()=>Mm,__asyncGenerator:()=>za,__asyncValues:()=>Ga,__await:()=>Ut,__awaiter:()=>I,__classPrivateFieldGet:()=>Nm,__classPrivateFieldIn:()=>km,__classPrivateFieldSet:()=>Om,__createBinding:()=>Ha,__decorate:()=>mm,__disposeResources:()=>Fm,__esDecorate:()=>ym,__exportStar:()=>Cm,__extends:()=>gm,__generator:()=>Dm,__importDefault:()=>Rm,__importStar:()=>xm,__makeTemplateObject:()=>Am,__metadata:()=>Em,__param:()=>vm,__propKey:()=>wm,__read:()=>Td,__rest:()=>un,__rewriteRelativeImportExtension:()=>Lm,__runInitializers:()=>_m,__setFunctionName:()=>bm,__spread:()=>Im,__spreadArray:()=>Tm,__spreadArrays:()=>Sm,__values:()=>$a,default:()=>cD});function gm(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Id(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function un(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mm(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function vm(n,e){return function(t,r){e(t,r,n)}}function ym(n,e,t,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,h=!1,f=t.length-1;f>=0;f--){var g={};for(var v in r)g[v]=v==="access"?{}:r[v];for(var v in r.access)g.access[v]=r.access[v];g.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var m=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(u.get=d),(d=s(m.set))&&(u.set=d),(d=s(m.init))&&i.unshift(d)}else(d=s(m))&&(a==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),h=!0}function _m(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function wm(n){return typeof n=="symbol"?n:"".concat(n)}function bm(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Em(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function I(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Dm(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Cm(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ha(e,n,t)}function $a(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Td(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Im(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Td(arguments[e]));return n}function Sm(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Tm(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Ut(n){return this instanceof Ut?(this.v=n,this):new Ut(n)}function za(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(v){return new Promise(function(m,y){o.push([f,v,m,y])>1||c(f,v)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(v){h(o[0][3],v)}}function l(f){f.value instanceof Ut?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Mm(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:Ut(n[i](s)),done:!1}:o?o(s):s}:o}}function Ga(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $a=="function"?$a(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function Am(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function xm(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=Sd(n),r=0;r<t.length;r++)t[r]!=="default"&&Ha(e,n,t[r]);return sD(e,n),e}function Rm(n){return n&&n.__esModule?n:{default:n}}function Nm(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Om(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function km(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Pm(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function Fm(n){function e(o){n.error=n.hasError?new aD(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Lm(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?t:i+o+"."+s.toLowerCase()+"js"}):n}var Id,Ba,Ha,sD,Sd,aD,cD,ie=G0(()=>{"use strict";Id=function(n,e){return Id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Id(n,e)};Ba=function(){return Ba=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ba.apply(this,arguments)};Ha=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};sD=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},Sd=function(n){return Sd=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},Sd(n)};aD=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};cD={__extends:gm,__assign:Ba,__rest:un,__decorate:mm,__param:vm,__esDecorate:ym,__runInitializers:_m,__propKey:wm,__setFunctionName:bm,__metadata:Em,__awaiter:I,__generator:Dm,__createBinding:Ha,__exportStar:Cm,__values:$a,__read:Td,__spread:Im,__spreadArrays:Sm,__spreadArray:Tm,__await:Ut,__asyncGenerator:za,__asyncDelegator:Mm,__asyncValues:Ga,__makeTemplateObject:Am,__importStar:xm,__importDefault:Rm,__classPrivateFieldGet:Nm,__classPrivateFieldSet:Om,__classPrivateFieldIn:km,__addDisposableResource:Pm,__disposeResources:Fm,__rewriteRelativeImportExtension:Lm}});var ug=ar(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});var cg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};lg.default=cg});var hg=ar(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var NR=(ie(),li(hr)),OR=NR.__importDefault(ug()),dg=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let T=yield o.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=T:d=JSON.parse(T))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=yield o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new OR.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c,l,u,d;let h="",f=o?.cause;if(f){let g=(s=f?.message)!==null&&s!==void 0?s:"",v=(a=f?.code)!==null&&a!==void 0?a:"";h=`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,h+=`

Caused by: ${(l=f?.name)!==null&&l!==void 0?l:"Error"}: ${g}`,v&&(h+=` (${v})`),f?.stack&&(h+=`
${f.stack}`)}else h=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};fg.default=dg});var mg=ar(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});var kR=(ie(),li(hr)),PR=kR.__importDefault(hg()),pg=class extends PR.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};gg.default=pg});var bu=ar(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});var FR=(ie(),li(hr)),LR=FR.__importDefault(mg()),jR=new RegExp("[,()]"),vg=class extends LR.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&jR.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};yg.default=vg});var bg=ar(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});var VR=(ie(),li(hr)),ca=VR.__importDefault(bu()),_g=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){let{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ca.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ca.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ca.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ca.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ca.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};wg.default=_g});var _E=ar(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var yE=(ie(),li(hr)),UR=yE.__importDefault(bg()),BR=yE.__importDefault(bu()),Eg=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new UR.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new BR.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Dg.default=Eg});var SE=ar(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;var yo=(ie(),li(hr)),wE=yo.__importDefault(_E());tt.PostgrestClient=wE.default;var bE=yo.__importDefault(bg());tt.PostgrestQueryBuilder=bE.default;var EE=yo.__importDefault(bu());tt.PostgrestFilterBuilder=EE.default;var DE=yo.__importDefault(mg());tt.PostgrestTransformBuilder=DE.default;var CE=yo.__importDefault(hg());tt.PostgrestBuilder=CE.default;var IE=yo.__importDefault(ug());tt.PostgrestError=IE.default;tt.default={PostgrestClient:wE.default,PostgrestQueryBuilder:bE.default,PostgrestFilterBuilder:EE.default,PostgrestTransformBuilder:DE.default,PostgrestBuilder:CE.default,PostgrestError:IE.default}});var cd;function Ca(){return cd}function Vt(n){let e=cd;return cd=n,e}var Qg=Symbol("NotFound");function ui(n){return n===Qg||n?.name==="\u0275NotFound"}var ze=null,Ia=!1,ld=1,K0=null,Ge=Symbol("SIGNAL");function F(n){let e=ze;return ze=n,e}function Aa(){return ze}var cr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function di(n){if(Ia)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(n);let e=ze.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ze.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ze.producers,t!==void 0&&t.producer===n)){ze.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ze&&(!r||J0(i,ze)))return;let o=pi(ze),s={producer:n,consumer:ze,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ze.producersTail=s,e!==void 0?e.nextProducer=s:ze.producers=s,o&&nm(n,s)}function Xg(){ld++}function xa(n){if(!(pi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ld)){if(!n.producerMustRecompute(n)&&!hi(n)){Ma(n);return}n.producerRecomputeValue(n),Ma(n)}}function ud(n){if(n.consumers===void 0)return;let e=Ia;Ia=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Z0(r)}}finally{Ia=e}}function dd(){return ze?.consumerAllowSignalWrites!==!1}function Z0(n){n.dirty=!0,ud(n),n.consumerMarkedDirty?.(n)}function Ma(n){n.dirty=!1,n.lastCleanEpoch=ld}function lr(n){return n&&em(n),F(n)}function em(n){n.producersTail=void 0,n.recomputing=!0}function fi(n,e){F(e),n&&tm(n)}function tm(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(pi(n))do t=fd(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function hi(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(xa(t),r!==t.version))return!0}return!1}function ur(n){if(pi(n)){let e=n.producers;for(;e!==void 0;)e=fd(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function nm(n,e){let t=n.consumersTail,r=pi(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)nm(i.producer,i)}function fd(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!pi(e)){let o=e.producers;for(;o!==void 0;)o=fd(o)}return t}function pi(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Ra(n){K0?.(n)}function J0(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Na(n,e){return Object.is(n,e)}function Oa(n,e){let t=Object.create(Y0);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(xa(t),di(t),t.value===No)throw t.error;return t.value};return r[Ge]=t,Ra(t),r}var Sa=Symbol("UNSET"),Ta=Symbol("COMPUTING"),No=Symbol("ERRORED"),Y0=$(w({},cr),{value:Sa,dirty:!0,error:null,equal:Na,kind:"computed",producerMustRecompute(n){return n.value===Sa||n.value===Ta},producerRecomputeValue(n){if(n.value===Ta)throw new Error("");let e=n.value;n.value=Ta;let t=lr(n),r,i=!1;try{r=n.computation(),F(null),i=e!==Sa&&e!==No&&r!==No&&n.equal(e,r)}catch(o){r=No,n.error=o}finally{fi(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Q0(){throw new Error}var rm=Q0;function im(n){rm(n)}function hd(n){rm=n}var X0=null;function pd(n,e){let t=Object.create(ka);t.value=n,e!==void 0&&(t.equal=e);let r=()=>om(t);return r[Ge]=t,Ra(t),[r,s=>gi(t,s),s=>gd(t,s)]}function om(n){return di(n),n.value}function gi(n,e){dd()||im(n),n.equal(n.value,e)||(n.value=e,eD(n))}function gd(n,e){dd()||im(n),gi(n,e(n.value))}var ka=$(w({},cr),{equal:Na,value:void 0,kind:"signal"});function eD(n){n.version++,Xg(),ud(n),X0?.(n)}function B(n){return typeof n=="function"}function mi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Pa=mi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){e=o instanceof Pa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sm(o)}catch(s){e=e??[],s instanceof Pa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pa(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sm(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oo(t,e)}remove(e){let{_finalizers:t}=this;t&&Oo(t,e),e instanceof n&&e._removeParent(this)}};ve.EMPTY=(()=>{let n=new ve;return n.closed=!0,n})();var md=ve.EMPTY;function Fa(n){return n instanceof ve||n&&"closed"in n&&B(n.remove)&&B(n.add)&&B(n.unsubscribe)}function sm(n){B(n)?n():n.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(n,e,...t){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=vi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function La(n){vi.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(n);else throw n})}function ko(){}var am=vd("C",void 0,void 0);function cm(n){return vd("E",void 0,n)}function lm(n){return vd("N",n,void 0)}function vd(n,e,t){return{kind:n,value:e,error:t}}var dr=null;function yi(n){if(St.useDeprecatedSynchronousErrorHandling){let e=!dr;if(e&&(dr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=dr;if(dr=null,t)throw r}}else n()}function um(n){St.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=n)}var fr=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fa(e)&&e.add(this)):this.destination=rD}static create(e,t,r){return new Nn(e,t,r)}next(e){this.isStopped?_d(lm(e),this):this._next(e)}error(e){this.isStopped?_d(cm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_d(am,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tD=Function.prototype.bind;function yd(n,e){return tD.call(n,e)}var wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ja(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ja(r)}else ja(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ja(t)}}},Nn=class extends fr{constructor(e,t,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&St.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yd(e.next,o),error:e.error&&yd(e.error,o),complete:e.complete&&yd(e.complete,o)}):i=e}this.destination=new wd(i)}};function ja(n){St.useDeprecatedSynchronousErrorHandling?um(n):La(n)}function nD(n){throw n}function _d(n,e){let{onStoppedNotification:t}=St;t&&vi.setTimeout(()=>t(n,e))}var rD={closed:!0,next:ko,error:nD,complete:ko};var _i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(n){return n}function bd(...n){return Ed(n)}function Ed(n){return n.length===0?at:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var G=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=oD(t)?t:new Nn(t,r,i);return yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=dm(r),new r((i,o)=>{let s=new Nn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[_i](){return this}pipe(...t){return Ed(t)(this)}toPromise(t){return t=dm(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function dm(n){var e;return(e=n??St.Promise)!==null&&e!==void 0?e:Promise}function iD(n){return n&&B(n.next)&&B(n.error)&&B(n.complete)}function oD(n){return n&&n instanceof fr||iD(n)&&Fa(n)}function Dd(n){return B(n?.lift)}function J(n){return e=>{if(Dd(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(n,e,t,r,i){return new Cd(n,e,t,r,i)}var Cd=class extends fr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wi(){return J((n,e)=>{let t=null;n._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var bi=class extends G{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Dd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ve;let t=this.getSubject();e.add(this.source.subscribe(K(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ve.EMPTY)}return e}refCount(){return wi()(this)}};var fm=mi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Va(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fm}next(t){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?md:(this.currentObservers=null,o.push(t),new ve(()=>{this.currentObservers=null,Oo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new G;return t.source=this,t}}return n.create=(e,t)=>new Va(e,t),n})(),Va=class extends ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:md}};var ke=class extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nt=new G(n=>n.complete());function hm(n){return n&&B(n.schedule)}function pm(n){return n[n.length-1]}function Ua(n){return B(pm(n))?n.pop():void 0}function On(n){return hm(pm(n))?n.pop():void 0}ie();var qa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Wa(n){return B(n?.then)}function Ka(n){return B(n[_i])}function Za(n){return Symbol.asyncIterator&&B(n?.[Symbol.asyncIterator])}function Ja(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ya=lD();function Qa(n){return B(n?.[Ya])}ie();function Xa(n){return za(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ut(t.read());if(i)return yield Ut(void 0);yield yield Ut(r)}}finally{t.releaseLock()}})}function ec(n){return B(n?.getReader)}function _e(n){if(n instanceof G)return n;if(n!=null){if(Ka(n))return uD(n);if(qa(n))return dD(n);if(Wa(n))return fD(n);if(Za(n))return jm(n);if(Qa(n))return hD(n);if(ec(n))return pD(n)}throw Ja(n)}function uD(n){return new G(e=>{let t=n[_i]();if(B(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dD(n){return new G(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fD(n){return new G(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,La)})}function hD(n){return new G(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function jm(n){return new G(e=>{gD(n,e).catch(t=>e.error(t))})}function pD(n){return jm(Xa(n))}function gD(n,e){var t,r,i,o;return I(this,void 0,void 0,function*(){try{for(t=Ga(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function rt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function tc(n,e=0){return J((t,r)=>{t.subscribe(K(r,i=>rt(r,n,()=>r.next(i),e),()=>rt(r,n,()=>r.complete(),e),i=>rt(r,n,()=>r.error(i),e)))})}function nc(n,e=0){return J((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Vm(n,e){return _e(n).pipe(nc(e),tc(e))}function Um(n,e){return _e(n).pipe(nc(e),tc(e))}function Bm(n,e){return new G(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function $m(n,e){return new G(t=>{let r;return rt(t,e,()=>{r=n[Ya](),rt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function rc(n,e){if(!n)throw new Error("Iterable cannot be null");return new G(t=>{rt(t,e,()=>{let r=n[Symbol.asyncIterator]();rt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Hm(n,e){return rc(Xa(n),e)}function zm(n,e){if(n!=null){if(Ka(n))return Vm(n,e);if(qa(n))return Bm(n,e);if(Wa(n))return Um(n,e);if(Za(n))return rc(n,e);if(Qa(n))return $m(n,e);if(ec(n))return Hm(n,e)}throw Ja(n)}function ne(n,e){return e?zm(n,e):_e(n)}function k(...n){let e=On(n);return ne(n,e)}function Ei(n,e){let t=B(n)?n:()=>n,r=i=>i.error(t());return new G(e?i=>e.schedule(r,0,i):r)}function Md(n){return!!n&&(n instanceof G||B(n.lift)&&B(n.subscribe))}var Tt=mi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ad(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Nn({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Tt)}});n.subscribe(o)})}function L(n,e){return J((t,r)=>{let i=0;t.subscribe(K(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:mD}=Array;function vD(n,e){return mD(e)?n(...e):n(e)}function ic(n){return L(e=>vD(n,e))}var{isArray:yD}=Array,{getPrototypeOf:_D,prototype:wD,keys:bD}=Object;function oc(n){if(n.length===1){let e=n[0];if(yD(e))return{args:e,keys:null};if(ED(e)){let t=bD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ED(n){return n&&typeof n=="object"&&_D(n)===wD}function sc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Po(...n){let e=On(n),t=Ua(n),{args:r,keys:i}=oc(n);if(r.length===0)return ne([],e);let o=new G(DD(r,e,i?s=>sc(i,s):at));return t?o.pipe(ic(t)):o}function DD(n,e,t=at){return r=>{Gm(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Gm(e,()=>{let l=ne(n[c],e),u=!1;l.subscribe(K(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Gm(n,e,t){n?rt(t,n,e):e()}function qm(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let m=!1;_e(t(v,u++)).subscribe(K(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let y=c.shift();s?rt(e,s,()=>g(y)):g(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(K(e,f,()=>{d=!0,h()})),()=>{a?.()}}function de(n,e,t=1/0){return B(e)?de((r,i)=>L((o,s)=>e(r,o,i,s))(_e(n(r,i))),t):(typeof e=="number"&&(t=e),J((r,i)=>qm(r,i,n,t)))}function Di(n=1/0){return de(at,n)}function Wm(){return Di(1)}function Ci(...n){return Wm()(ne(n,On(n)))}function Fo(n){return new G(e=>{_e(n()).subscribe(e)})}function xd(...n){let e=Ua(n),{args:t,keys:r}=oc(n),i=new G(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(t[u]).subscribe(K(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?sc(r,a):a),o.complete())}))}});return e?i.pipe(ic(e)):i}function qe(n,e){return J((t,r)=>{let i=0;t.subscribe(K(r,o=>n.call(e,o,i++)&&r.next(o)))})}function it(n){return J((e,t)=>{let r=null,i=!1,o;r=e.subscribe(K(t,void 0,void 0,s=>{o=_e(n(s,it(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Km(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(K(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Bt(n,e){return B(e)?de(n,e,1):de(n,1)}function kn(n){return J((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function dn(n){return n<=0?()=>nt:J((e,t)=>{let r=0;e.subscribe(K(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ac(n=CD){return J((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function CD(){return new Tt}function pr(n){return J((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function fn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qe((i,o)=>n(i,o,r)):at,dn(1),t?kn(e):ac(()=>new Tt))}function Ii(n){return n<=0?()=>nt:J((e,t)=>{let r=[];e.subscribe(K(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rd(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qe((i,o)=>n(i,o,r)):at,Ii(1),t?kn(e):ac(()=>new Tt))}function Nd(n,e){return J(Km(n,e,arguments.length>=2,!0))}function Od(...n){let e=On(n);return J((t,r)=>{(e?Ci(n,t,e):Ci(n,t)).subscribe(r)})}function Pe(n,e){return J((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(K(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(n(c,u)).subscribe(i=K(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cc(n){return J((e,t)=>{_e(n).subscribe(K(t,()=>t.complete(),ko)),!t.closed&&e.subscribe(t)})}function Ae(n,e,t){let r=B(n)||e||t?{next:n,error:e,complete:t}:n;return r?J((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):at}function Zm(n){let e=F(null);try{return n()}finally{F(e)}}var Jm=$(w({},cr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ym(n){if(n.dirty=!1,n.version>0&&!hi(n))return;n.version++;let e=lr(n);try{n.cleanup(),n.fn()}finally{fi(n,e)}}var fc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,t){super($t(e,t)),this.code=e}};function ID(n){return`NG0${Math.abs(n)}`}function $t(n,e){return`${ID(n)}${e?": "+e:""}`}var gn=globalThis;function Q(n){for(let e in n)if(n[e]===Q)return e;throw Error("")}function ev(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(pn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function zd(n,e){return n?e?`${n} ${e}`:n:e||""}var SD=Q({__forward_ref__:Q});function mn(n){return n.__forward_ref__=mn,n.toString=function(){return pn(this())},n}function Fe(n){return Gd(n)?n():n}function Gd(n){return typeof n=="function"&&n.hasOwnProperty(SD)&&n.__forward_ref__===mn}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bo(n){return TD(n,hc)}function qd(n){return Bo(n)!==null}function TD(n,e){return n.hasOwnProperty(e)&&n[e]||null}function MD(n){let e=n?.[hc]??null;return e||null}function Pd(n){return n&&n.hasOwnProperty(uc)?n[uc]:null}var hc=Q({\u0275prov:Q}),uc=Q({\u0275inj:Q}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wd(n){return n&&!!n.\u0275providers}var Kd=Q({\u0275cmp:Q}),Zd=Q({\u0275dir:Q}),Jd=Q({\u0275pipe:Q}),Yd=Q({\u0275mod:Q}),jo=Q({\u0275fac:Q}),_r=Q({__NG_ELEMENT_ID__:Q}),Qm=Q({__NG_ENV_ID__:Q});function $o(n){return typeof n=="string"?n:n==null?"":String(n)}function tv(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$o(n)}var nv=Q({ngErrorCode:Q}),AD=Q({ngErrorMessage:Q}),xD=Q({ngTokenPath:Q});function Qd(n,e){return rv("",-200,e)}function pc(n,e){throw new C(-201,!1)}function rv(n,e,t){let r=new C(e,n);return r[nv]=e,r[AD]=n,t&&(r[xD]=t),r}function RD(n){return n[nv]}var Fd;function iv(){return Fd}function Ye(n){let e=Fd;return Fd=n,e}function Xd(n,e,t){let r=Bo(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;pc(n,"Injector")}var ND={},gr=ND,OD="__NG_DI_FLAG__",Ld=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=mr(t)||0;try{return this.injector.get(e,r&8?null:gr,r)}catch(i){if(ui(i))return i;throw i}}};function kD(n,e=0){let t=Ca();if(t===void 0)throw new C(-203,!1);if(t===null)return Xd(n,void 0,e);{let r=PD(e),i=t.retrieve(n,r);if(ui(i)){if(r.optional)return null;throw i}return i}}function O(n,e=0){return(iv()||kD)(Fe(n),e)}function _(n,e){return O(n,mr(e))}function mr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function PD(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function jd(n){let e=[];for(let t=0;t<n.length;t++){let r=Fe(n[t]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=FD(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function FD(n){return n[OD]}function Pn(n,e){let t=n.hasOwnProperty(jo);return t?n[jo]:null}function gc(n,e){n.forEach(t=>Array.isArray(t)?gc(t,e):e(t))}function ef(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ho(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ov(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function sv(n,e,t){let r=Ti(n,e);return r>=0?n[r|1]=t:(r=~r,ov(n,r,e,t)),r}function mc(n,e){let t=Ti(n,e);if(t>=0)return n[t|1]}function Ti(n,e){return LD(n,e,1)}function LD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ln={},ct=[],vn=new A(""),tf=new A("",-1),nf=new A(""),Vo=class{get(e,t=gr){if(t===gr){let i=rv("",-201);throw i.name="\u0275NotFound",i}return t}};function rf(n){return n[Yd]||null}function yn(n){return n[Kd]||null}function of(n){return n[Zd]||null}function av(n){return n[Jd]||null}function Ht(n){return{\u0275providers:n}}function cv(n){return Ht([{provide:vn,multi:!0,useValue:n}])}function lv(...n){return{\u0275providers:sf(!0,n),\u0275fromNgModule:!0}}function sf(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return gc(e,s=>{let a=s;dc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uv(i,o),t}function uv(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];af(i,o=>{e(o,r)})}}function dc(n,e,t,r){if(n=Fe(n),!n)return!1;let i=null,o=Pd(n),s=!o&&yn(n);if(!o&&!s){let c=n.ngModule;if(o=Pd(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)dc(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gc(o.imports,u=>{dc(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&uv(l,e)}if(!a){let l=Pn(i)||(()=>new i);e({provide:i,useFactory:l,deps:ct},i),e({provide:nf,useValue:i,multi:!0},i),e({provide:vn,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;af(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function af(n,e){for(let t of n)Wd(t)&&(t=t.\u0275providers),Array.isArray(t)?af(t,e):e(t)}var jD=Q({provide:String,useValue:Q});function dv(n){return n!==null&&typeof n=="object"&&jD in n}function VD(n){return!!(n&&n.useExisting)}function UD(n){return!!(n&&n.useFactory)}function vr(n){return typeof n=="function"}function fv(n){return!!n.useClass}var zo=new A(""),lc={},Xm={},kd;function Go(){return kd===void 0&&(kd=new Vo),kd}var fe=class{},yr=class extends fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ud(e,s=>this.processProvider(s)),this.records.set(tf,Si(void 0,this)),i.has("environment")&&this.records.set(fe,Si(void 0,this));let o=this.records.get(zo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nf,ct,{self:!0}))}retrieve(e,t){let r=mr(t)||0;try{return this.get(e,gr,r)}catch(i){if(ui(i))return i;throw i}}destroy(){Lo(this),this._destroyed=!0;let e=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(e)}}onDestroy(e){return Lo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Lo(this);let t=Vt(this),r=Ye(void 0),i;try{return e()}finally{Vt(t),Ye(r)}}get(e,t=gr,r){if(Lo(this),e.hasOwnProperty(Qm))return e[Qm](this);let i=mr(r),o,s=Vt(this),a=Ye(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=GD(e)&&Bo(e);u&&this.injectableDefInScope(u)?l=Si(Vd(e),lc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Go():this.parent;return t=i&8&&t===gr?null:t,c.get(e,t)}catch(c){let l=RD(c);throw l===-200||l===-201?new C(l,null):c}finally{Ye(a),Vt(s)}}resolveInjectorInitializers(){let e=F(null),t=Vt(this),r=Ye(void 0),i;try{let o=this.get(vn,ct,{self:!0});for(let s of o)s()}finally{Vt(t),Ye(r),F(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(pn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Fe(e);let t=vr(e)?e:Fe(e&&e.provide),r=$D(e);if(!vr(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Si(void 0,lc,!0),i.factory=()=>jd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=F(null);try{if(t.value===Xm)throw Qd(pn(e));return t.value===lc&&(t.value=Xm,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&zD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{F(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Fe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Vd(n){let e=Bo(n),t=e!==null?e.factory:Pn(n);if(t!==null)return t;if(n instanceof A)throw new C(204,!1);if(n instanceof Function)return BD(n);throw new C(204,!1)}function BD(n){if(n.length>0)throw new C(204,!1);let t=MD(n);return t!==null?()=>t.factory(n):()=>new n}function $D(n){if(dv(n))return Si(void 0,n.useValue);{let e=cf(n);return Si(e,lc)}}function cf(n,e,t){let r;if(vr(n)){let i=Fe(n);return Pn(i)||Vd(i)}else if(dv(n))r=()=>Fe(n.useValue);else if(UD(n))r=()=>n.useFactory(...jd(n.deps||[]));else if(VD(n))r=(i,o)=>O(Fe(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Fe(n&&(n.useClass||n.provide));if(HD(n))r=()=>new i(...jd(n.deps));else return Pn(i)||Vd(i)}return r}function Lo(n){if(n.destroyed)throw new C(205,!1)}function Si(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function HD(n){return!!n.deps}function zD(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function GD(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ud(n,e){for(let t of n)Array.isArray(t)?Ud(t,e):t&&Wd(t)?Ud(t.\u0275providers,e):e(t)}function Re(n,e){let t;n instanceof yr?(Lo(n),t=n):t=new Ld(n);let r,i=Vt(t),o=Ye(void 0);try{return e()}finally{Vt(i),Ye(o)}}function hv(){return iv()!==void 0||Ca()!=null}var At=0,V=1,j=2,xe=3,mt=4,vt=5,Mi=6,Ai=7,he=8,_n=9,zt=10,se=11,xi=12,lf=13,wr=14,lt=15,br=16,Er=17,Dr=18,qo=19,uf=20,hn=21,vc=22,wn=23,ut=24,Cr=25,Ir=26,De=27,pv=1,df=6,jn=7,Wo=8,Ko=9,pe=10;function Gt(n){return Array.isArray(n)&&typeof n[pv]=="object"}function xt(n){return Array.isArray(n)&&n[pv]===!0}function ff(n){return(n.flags&4)!==0}function Vn(n){return n.componentOffset>-1}function yc(n){return(n.flags&1)===1}function qt(n){return!!n.template}function Ri(n){return(n[j]&512)!==0}function Sr(n){return(n[j]&256)===256}var hf="svg",gv="math";function yt(n){for(;Array.isArray(n);)n=n[At];return n}function pf(n,e){return yt(e[n])}function Rt(n,e){return yt(e[n.index])}function Zo(n,e){return n.data[e]}function gf(n,e){return n[e]}function mf(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function _t(n,e){let t=e[n];return Gt(t)?t:t[At]}function _c(n){return(n[j]&128)===128}function mv(n){return xt(n[xe])}function Un(n,e){return e==null?null:n[e]}function vf(n){n[Er]=0}function yf(n){n[j]&1024||(n[j]|=1024,_c(n)&&Bn(n))}function vv(n,e){for(;n>0;)e=e[wr],n--;return e}function Jo(n){return!!(n[j]&9216||n[ut]?.dirty)}function wc(n){n[zt].changeDetectionScheduler?.notify(8),n[j]&64&&(n[j]|=1024),Jo(n)&&Bn(n)}function Bn(n){n[zt].changeDetectionScheduler?.notify(0);let e=Fn(n);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!_c(e)));)e=Fn(e)}function _f(n,e){if(Sr(n))throw new C(911,!1);n[hn]===null&&(n[hn]=[]),n[hn].push(e)}function yv(n,e){if(n[hn]===null)return;let t=n[hn].indexOf(e);t!==-1&&n[hn].splice(t,1)}function Fn(n){let e=n[xe];return xt(e)?e[xe]:e}function _v(n){return n[Ai]??=[]}function wv(n){return n.cleanup??=[]}var q={lFrame:Lv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bd=!1;function bv(){return q.lFrame.elementDepthCount}function Ev(){q.lFrame.elementDepthCount++}function Dv(){q.lFrame.elementDepthCount--}function Cv(){return q.bindingsEnabled}function Iv(){return q.skipHydrationRootTNode!==null}function Sv(n){return q.skipHydrationRootTNode===n}function Tv(){q.skipHydrationRootTNode=null}function Z(){return q.lFrame.lView}function Ke(){return q.lFrame.tView}function ge(n){return q.lFrame.contextLView=n,n[he]}function me(n){return q.lFrame.contextLView=null,n}function Qe(){let n=wf();for(;n!==null&&n.type===64;)n=n.parent;return n}function wf(){return q.lFrame.currentTNode}function Mv(){let n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ni(n,e){let t=q.lFrame;t.currentTNode=n,t.isParent=e}function bf(){return q.lFrame.isParent}function Av(){q.lFrame.isParent=!1}function Ef(){return Bd}function Oi(n){let e=Bd;return Bd=n,e}function bc(){let n=q.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xv(n){return q.lFrame.bindingIndex=n}function Tr(){return q.lFrame.bindingIndex++}function Rv(n){let e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Nv(){return q.lFrame.inI18n}function Ov(n,e){let t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ec(e)}function kv(){return q.lFrame.currentDirectiveIndex}function Ec(n){q.lFrame.currentDirectiveIndex=n}function Pv(n){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Df(n){q.lFrame.currentQueryIndex=n}function qD(n){let e=n[V];return e.type===2?e.declTNode:e.type===1?n[vt]:null}function Cf(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=qD(o),i===null||(o=o[wr],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=q.lFrame=Fv();return r.currentTNode=e,r.lView=n,!0}function Dc(n){let e=Fv(),t=n[V];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Fv(){let n=q.lFrame,e=n===null?null:n.child;return e===null?Lv(n):e}function Lv(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jv(){let n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var If=jv;function Cc(){let n=jv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vv(n){return(q.lFrame.contextLView=vv(n,q.lFrame.contextLView))[he]}function $n(){return q.lFrame.selectedIndex}function Hn(n){q.lFrame.selectedIndex=n}function Ic(){let n=q.lFrame;return Zo(n.tView,n.selectedIndex)}function ki(){q.lFrame.currentNamespace=hf}function Sc(){WD()}function WD(){q.lFrame.currentNamespace=null}function Uv(){return q.lFrame.currentNamespace}var Bv=!0;function Tc(){return Bv}function Mc(n){Bv=n}function $d(n,e=null,t=null,r){let i=Sf(n,e,t,r);return i.resolveInjectorInitializers(),i}function Sf(n,e=null,t=null,r,i=new Set){let o=[t||ct,lv(n)];return r=r||(typeof n=="object"?void 0:pn(n)),new yr(o,e||Go(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=gr;static NULL=new Vo;static create(e,t){if(Array.isArray(e))return $d({name:""},t,e,"");{let r=e.name??"";return $d({name:r},e.parent,e.providers,r)}}static \u0275prov=M({token:n,providedIn:"any",factory:()=>O(tf)});static __NG_ELEMENT_ID__=-1},ae=new A(""),dt=(()=>{class n{static __NG_ELEMENT_ID__=KD;static __NG_ENV_ID__=t=>t}return n})(),Uo=class extends dt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Sr(this._lView)}onDestroy(e){let t=this._lView;return _f(t,e),()=>yv(t,e)}};function KD(){return new Uo(Z())}var pt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Xe=new A("",{providedIn:"root",factory:()=>{let n=_(fe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(pt),e.handleError(t))}}}),$v={provide:vn,useValue:()=>void _(pt),multi:!0},ZD=new A("",{providedIn:"root",factory:()=>{let n=_(ae).defaultView;if(!n)return;let e=_(Xe),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),_(dt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Tf(){return Ht([cv(()=>void _(ZD))])}function Mf(n){return typeof n=="function"&&n[Ge]!==void 0}function W(n,e){let[t,r,i]=pd(n,e?.equal),o=t,s=o[Ge];return o.set=r,o.update=i,o.asReadonly=Af.bind(o),o}function Af(){let n=this[Ge];if(n.readonlyFn===void 0){let e=()=>this();e[Ge]=n,n.readonlyFn=e}return n.readonlyFn}function xf(n){return Mf(n)&&typeof n.set=="function"}var Pi=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=JD}return n})();function JD(){return new Pi(Z(),Qe())}var Mt=class{},Yo=new A("",{providedIn:"root",factory:()=>!1});var Rf=new A(""),Nf=new A(""),Wt=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qo=(()=>{class n{internalPendingTasks=_(Wt);scheduler=_(Mt);errorHandler=_(Xe);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})();function Mr(...n){}var Xo=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>new Hd})}return n})(),Hd=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function cs(n){return{toString:n}.toString()}function nC(n){return typeof n=="function"}var Pc=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function by(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var En=(()=>{let n=()=>Ey;return n.ngInherit=!0,n})();function Ey(n){return n.type.prototype.ngOnChanges&&(n.setInput=iC),rC}function rC(){let n=Cy(this),e=n?.current;if(e){let t=n.previous;if(t===Ln)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iC(n,e,t,r,i){let o=this.declaredInputs[r],s=Cy(n)||oC(n,{previous:Ln,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Pc(l&&l.currentValue,t,c===Ln),by(n,e,i,t)}var Dy="__ngSimpleChanges__";function Cy(n){return n[Dy]||null}function oC(n,e){return n[Dy]=e}var Hv=[];var X=function(n,e=null,t){for(let r=0;r<Hv.length;r++){let i=Hv[r];i(n,e,t)}};function sC(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ey(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function aC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Nc(n,e,t){Iy(n,e,3,t)}function Oc(n,e,t,r){(n[j]&3)===t&&Iy(n,e,t,r)}function Of(n,e){let t=n[j];(t&3)===e&&(t&=16383,t+=1,n[j]=t)}function Iy(n,e,t,r){let i=r!==void 0?n[Er]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Er]+=65536),(a<o||o==-1)&&(cC(n,t,e,c),n[Er]=(n[Er]&4294901760)+c+2),c++}function zv(n,e){X(4,n,e);let t=F(null);try{e.call(n)}finally{F(t),X(5,n,e)}}function cC(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[j]>>14<n[Er]>>16&&(n[j]&3)===e&&(n[j]+=16384,zv(a,o)):zv(a,o)}var Li=-1,xr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function lC(n){return(n.flags&8)!==0}function uC(n){return(n.flags&16)!==0}function dC(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];fC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Sy(n){return n===3||n===4||n===6}function fC(n){return n.charCodeAt(0)===64}function ns(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Gv(n,t,i,null,e[++r]):Gv(n,t,i,null,null))}}return n}function Gv(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Ty(n){return n!==Li}function Fc(n){return n&32767}function hC(n){return n>>16}function Lc(n,e){let t=hC(n),r=e;for(;t>0;)r=r[wr],t--;return r}var Gf=!0;function jc(n){let e=Gf;return Gf=n,e}var pC=256,My=pC-1,Ay=5,gC=0,Kt={};function mC(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_r)&&(r=t[_r]),r==null&&(r=t[_r]=gC++);let i=r&My,o=1<<i;e.data[n+(i>>Ay)]|=o}function Vc(n,e){let t=xy(n,e);if(t!==-1)return t;let r=e[V];r.firstCreatePass&&(n.injectorIndex=e.length,kf(r.data,n),kf(e,null),kf(r.blueprint,null));let i=mh(n,e),o=n.injectorIndex;if(Ty(i)){let s=Fc(i),a=Lc(i,e),c=a[V].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function kf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xy(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mh(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Py(i),r===null)return Li;if(t++,i=i[wr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Li}function qf(n,e,t){mC(n,e,t)}function vC(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Sy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Ry(n,e,t){if(t&8||n!==void 0)return n;pc(e,"NodeInjector")}function Ny(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[_n],o=Ye(void 0);try{return i?i.get(e,r,t&8):Xd(e,r,t&8)}finally{Ye(o)}}return Ry(r,e,t)}function Oy(n,e,t,r=0,i){if(n!==null){if(e[j]&2048&&!(r&2)){let s=EC(n,e,t,r,Kt);if(s!==Kt)return s}let o=ky(n,e,t,r,Kt);if(o!==Kt)return o}return Ny(e,t,r,i)}function ky(n,e,t,r,i){let o=wC(t);if(typeof o=="function"){if(!Cf(e,n,r))return r&1?Ry(i,t,r):Ny(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))pc(t);else return s}finally{If()}}else if(typeof o=="number"){let s=null,a=xy(n,e),c=Li,l=r&1?e[lt][vt]:null;for((a===-1||r&4)&&(c=a===-1?mh(n,e):e[a+8],c===Li||!Wv(r,!1)?a=-1:(s=e[V],a=Fc(c),e=Lc(c,e)));a!==-1;){let u=e[V];if(qv(o,a,u.data)){let d=yC(a,e,t,s,r,l);if(d!==Kt)return d}c=e[a+8],c!==Li&&Wv(r,e[V].data[a+8]===l)&&qv(o,a,e)?(s=u,a=Fc(c),e=Lc(c,e)):a=-1}}return i}function yC(n,e,t,r,i,o){let s=e[V],a=s.data[n+8],c=r==null?Vn(a)&&Gf:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=_C(a,s,t,c,l);return u!==null?Uc(e,s,u,a,i):Kt}function _C(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(i){let f=s[c];if(f&&qt(f)&&f.type===t)return c}return null}function Uc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof xr){let a=o;if(a.resolving){let f=tv(s[t]);throw Qd(f)}let c=jc(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?Ye(a.injectImpl):null,h=Cf(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sC(t,s[t],e)}finally{d!==null&&Ye(d),jc(c),a.resolving=!1,If()}}return o}function wC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_r)?n[_r]:void 0;return typeof e=="number"?e>=0?e&My:bC:e}function qv(n,e,t){let r=1<<n;return!!(t[e+(n>>Ay)]&r)}function Wv(n,e){return!(n&2)&&!(n&1&&e)}var Ar=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Oy(this._tNode,this._lView,e,mr(r),t)}};function bC(){return new Ar(Qe(),Z())}function Lr(n){return cs(()=>{let e=n.prototype.constructor,t=e[jo]||Wf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[jo]||Wf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wf(n){return Gd(n)?()=>{let e=Wf(Fe(n));return e&&e()}:Pn(n)}function EC(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[j]&2048&&!Ri(s);){let a=ky(o,s,t,r|2,Kt);if(a!==Kt)return a;let c=o.parent;if(!c){let l=s[uf];if(l){let u=l.get(t,Kt,r);if(u!==Kt)return u}c=Py(s),s=s[wr]}o=c}return i}function Py(n){let e=n[V],t=e.type;return t===2?e.declTNode:t===1?n[vt]:null}function ls(n){return vC(Qe(),n)}function DC(){return vh(Qe(),Z())}function vh(n,e){return new Dn(Rt(n,e))}var Dn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=DC}return n})();function Fy(n){return(n.flags&128)===128}var yh=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(yh||{}),Ly=new Map,CC=0;function IC(){return CC++}function SC(n){Ly.set(n[qo],n)}function Kf(n){Ly.delete(n[qo])}var Kv="__ngContext__";function ji(n,e){Gt(e)?(n[Kv]=e[qo],SC(e)):n[Kv]=e}function jy(n){return Uy(n[xi])}function Vy(n){return Uy(n[mt])}function Uy(n){for(;n!==null&&!xt(n);)n=n[mt];return n}var Zf;function _h(n){Zf=n}function By(){if(Zf!==void 0)return Zf;if(typeof document<"u")return document;throw new C(210,!1)}var tl=new A("",{providedIn:"root",factory:()=>TC}),TC="ng",nl=new A(""),us=new A("",{providedIn:"platform",factory:()=>"unknown"});var rl=new A("",{providedIn:"root",factory:()=>By().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var MC="h",AC="b";var $y="r";var Hy="di";var zy=!1,Gy=new A("",{providedIn:"root",factory:()=>zy});var wh=new A("");var xC=(n,e,t,r)=>{};function RC(n,e,t,r){xC(n,e,t,r)}function bh(n){return(n.flags&32)===32}var NC=()=>null;function qy(n,e,t=!1){return NC(n,e,t)}function Wy(n,e){let t=n.contentQueries;if(t!==null){let r=F(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Df(o),a.contentQueries(2,e[s],s)}}}finally{F(r)}}}function Jf(n,e,t){Df(0);let r=F(null);try{e(n,t)}finally{F(r)}}function Ky(n,e,t){if(ff(e)){let r=F(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var bn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(bn||{});var Ac;function OC(){if(Ac===void 0&&(Ac=null,gn.trustedTypes))try{Ac=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ac}function Zv(n){return OC()?.createScriptURL(n)||n}var Bc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fc})`}};function ds(n){return n instanceof Bc?n.changingThisBreaksApplicationSecurity:n}function Eh(n,e){let t=Zy(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fc})`)}return t===e}function Zy(n){return n instanceof Bc&&n.getTypeName()||null}var kC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jy(n){return n=String(n),n.match(kC)?n:"unsafe:"+n}var il=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(il||{});function Ui(n){let e=Qy();return e?e.sanitize(il.URL,n)||"":Eh(n,"URL")?ds(n):Jy($o(n))}function Yy(n){let e=Qy();if(e)return Zv(e.sanitize(il.RESOURCE_URL,n)||"");if(Eh(n,"ResourceURL"))return Zv(ds(n));throw new C(904,!1)}function PC(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Yy:Ui}function Dh(n,e,t){return PC(e,t)(n)}function Qy(){let n=Z();return n&&n[zt].sanitizer}function Xy(n){return n instanceof Function?n():n}function FC(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var e_="ng-template";function LC(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FC(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ch(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ch(n){return n.type===4&&n.value!==e_}function jC(n,e,t){let r=n.type===4&&!t?e_:n.value;return e===r}function VC(n,e,t){let r=4,i=n.attrs,o=i!==null?$C(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nt(r)&&!Nt(c))return!1;if(s&&Nt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!jC(n,c,t)||c===""&&e.length===1){if(Nt(r))return!1;s=!0}}else if(r&8){if(i===null||!LC(n,i,c,t)){if(Nt(r))return!1;s=!0}}else{let l=e[++a],u=UC(c,i,Ch(n),t);if(u===-1){if(Nt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Nt(r))return!1;s=!0}}}}return Nt(r)||s}function Nt(n){return(n&1)===0}function UC(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HC(e,n)}function BC(n,e,t=!1){for(let r=0;r<e.length;r++)if(VC(n,e[r],t))return!0;return!1}function $C(n){for(let e=0;e<n.length;e++){let t=n[e];if(Sy(t))return e}return n.length}function HC(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Jv(n,e){return n?":not("+e.trim()+")":e}function zC(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nt(s)&&(e+=Jv(o,i),i=""),r=s,o=o||!Nt(r);t++}return i!==""&&(e+=Jv(o,i)),e}function GC(n){return n.map(zC).join(",")}function qC(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Yt={};function WC(n,e){return n.createText(e)}function KC(n,e,t){n.setValue(e,t)}function t_(n,e,t){return n.createElement(e,t)}function $c(n,e,t,r,i){n.insertBefore(e,t,r,i)}function n_(n,e,t){n.appendChild(e,t)}function Yv(n,e,t,r,i){r!==null?$c(n,e,t,r,i):n_(n,e,t)}function r_(n,e,t,r){n.removeChild(null,e,t,r)}function ZC(n,e,t){n.setAttribute(e,"style",t)}function JC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function i_(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&dC(n,e,r),i!==null&&JC(n,e,i),o!==null&&ZC(n,e,o)}function Ih(n,e,t,r,i,o,s,a,c,l,u){let d=De+r,h=d+i,f=YC(d,h),g=typeof l=="function"?l():l;return f[V]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function YC(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yt);return t}function QC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ih(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sh(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[At]=i,d[j]=r|4|128|8|64|1024,(l!==null||n&&n[j]&2048)&&(d[j]|=2048),vf(d),d[xe]=d[wr]=n,d[he]=t,d[zt]=s||n&&n[zt],d[se]=a||n&&n[se],d[_n]=c||n&&n[_n]||null,d[vt]=o,d[qo]=IC(),d[Mi]=u,d[uf]=l,d[lt]=e.type==2?n[lt]:d,d}function XC(n,e,t){let r=Rt(e,n),i=QC(t),o=n[zt].rendererFactory,s=Th(n,Sh(n,i,null,o_(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function o_(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function s_(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Th(n,e){return n[xi]?n[lf][mt]=e:n[xi]=e,n[lf]=e,e}function x(n=1){a_(Ke(),Z(),$n()+n,!1)}function a_(n,e,t,r){if(!r)if((e[j]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nc(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Oc(e,o,0,t)}Hn(t)}var ol=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ol||{});function Yf(n,e,t,r){let i=F(null);try{let[o,s,a]=n.inputs[t],c=null;(s&ol.SignalBased)!==0&&(c=e[o][Ge]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):by(e,c,o,r)}finally{F(i)}}var Zt=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Zt||{}),eI;function Mh(n,e){return eI(n,e)}var Rr=new Set,sl=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(sl||{}),jr=new A(""),Qv=new Set;function Ot(n){Qv.has(n)||(Qv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var c_=!1,Qf=class extends ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,hv()&&(this.destroyRef=_(dt,{optional:!0})??void 0,this.pendingTasks=_(Wt,{optional:!0})??void 0)}emit(e){let t=F(null);try{super.next(e)}finally{F(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Qf;function l_(n){let e,t;function r(){n=Mr;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Xv(n){return queueMicrotask(()=>n()),()=>{n=Mr}}var Ah="isAngularZone",Hc=Ah+"_ID",tI=0,ue=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=c_}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ah)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new C(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nI,Mr,Mr);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nI={};function xh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rI(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){l_(()=>{n.callbackScheduled=!1,Xf(n),n.isCheckStableRunning=!0,xh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Xf(n)}function iI(n){let e=()=>{rI(n)},t=tI++;n._inner=n._inner.fork({name:"angular",properties:{[Ah]:!0,[Hc]:t,[Hc+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(oI(c))return r.invokeTask(o,s,a,c);try{return ey(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ty(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return ey(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sI(c)&&e(),ty(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Xf(n),xh(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Xf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ey(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ty(n){n._nesting--,xh(n)}var zc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function oI(n){return u_(n,"__ignore_ng_zone__")}function sI(n){return u_(n,"__scheduler_tick__")}function u_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rh=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),d_=[0,1,2,3],f_=(()=>{class n{ngZone=_(ue);scheduler=_(Mt);errorHandler=_(pt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(jr,{optional:!0})}execute(){let t=this.sequences.size>0;t&&X(16),this.executing=!0;for(let r of d_)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&X(17)}register(t){let{view:r}=t;r!==void 0?((r[Cr]??=[]).push(t),Bn(r),r[j]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(sl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Cr];e&&(this.view[Cr]=e.filter(t=>t!==this))}};function al(n,e){let t=e?.injector??_(We);return Ot("NgAfterNextRender"),cI(n,t,e,!0)}function aI(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cI(n,e,t,r){let i=e.get(Rh);i.impl??=e.get(f_);let o=e.get(jr,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(dt):null,a=e.get(Pi,null,{optional:!0}),c=new Gc(i.impl,aI(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var h_=new A("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function p_(n,e,t){let r=n.get(h_);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function lI(n,e){let t=n.get(h_);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function uI(n,e){for(let[t,r]of e)p_(n,r.animateFns)}function ny(n,e,t,r){let i=n?.[Ir]?.enter;e!==null&&i&&i.has(t.index)&&uI(r,i)}function Fi(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;xt(i)?c=i:Gt(i)&&(l=!0,i=i[At]);let u=yt(i);n===0&&r!==null?(ny(a,r,o,t),s==null?n_(e,r,u):$c(e,r,u,s||null,!0)):n===1&&r!==null?(ny(a,r,o,t),$c(e,r,u,s||null,!0)):n===2?ry(a,o,t,d=>{r_(e,u,l,d)}):n===3&&ry(a,o,t,()=>{e.destroyNode(u)}),c!=null&&DI(e,n,t,c,o,r,s)}}function dI(n,e){g_(n,e),e[At]=null,e[vt]=null}function fI(n,e,t,r,i,o){r[At]=i,r[vt]=e,ll(n,r,t,1,i,o)}function g_(n,e){e[zt].changeDetectionScheduler?.notify(9),ll(n,e,e[se],2,null,null)}function hI(n){let e=n[xi];if(!e)return Pf(n[V],n);for(;e;){let t=null;if(Gt(e))t=e[xi];else{let r=e[pe];r&&(t=r)}if(!t){for(;e&&!e[mt]&&e!==n;)Gt(e)&&Pf(e[V],e),e=e[xe];e===null&&(e=n),Gt(e)&&Pf(e[V],e),t=e&&e[mt]}e=t}}function Nh(n,e){let t=n[Ko],r=t.indexOf(e);t.splice(r,1)}function cl(n,e){if(Sr(e))return;let t=e[se];t.destroyNode&&ll(n,e,t,3,null,null),hI(e)}function Pf(n,e){if(Sr(e))return;let t=F(null);try{e[j]&=-129,e[j]|=256,e[ut]&&ur(e[ut]),mI(n,e),gI(n,e),e[V].type===1&&e[se].destroy();let r=e[br];if(r!==null&&xt(e[xe])){r!==e[xe]&&Nh(r,e);let i=e[Dr];i!==null&&i.detachView(n)}Kf(e)}finally{F(t)}}function ry(n,e,t,r){let i=n?.[Ir];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Rr.add(n),p_(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),pI(n,r)}else n&&Rr.delete(n),r(!1)},i)}function pI(n,e){let t=n[Ir]?.running;if(t){t.then(()=>{n[Ir].running=void 0,Rr.delete(n),e(!0)});return}e(!1)}function gI(n,e){let t=n.cleanup,r=e[Ai];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ai]=null);let i=e[hn];if(i!==null){e[hn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wn];if(o!==null){e[wn]=null;for(let s of o)s.destroy()}}function mI(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];X(4,a,c);try{c.call(a)}finally{X(5,a,c)}}else{X(4,i,o);try{o.call(i)}finally{X(5,i,o)}}}}}function vI(n,e,t){return yI(n,e.parent,t)}function yI(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[At];if(Vn(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return Rt(r,t)}function _I(n,e,t){return bI(n,e,t)}function wI(n,e,t){return n.type&40?Rt(n,t):null}var bI=wI,iy;function Oh(n,e,t,r){let i=vI(n,r,e),o=e[se],s=r.parent||e[vt],a=_I(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Yv(o,i,t[c],a,!1);else Yv(o,i,t,a,!1);iy!==void 0&&iy(o,r,e,t,i)}function es(n,e){if(e!==null){let t=e.type;if(t&3)return Rt(e,n);if(t&4)return eh(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return es(n,r);{let i=n[e.index];return xt(i)?eh(-1,i):yt(i)}}else{if(t&128)return es(n,e.next);if(t&32)return Mh(e,n)()||yt(n[e.index]);{let r=m_(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fn(n[lt]);return es(i,r)}else return es(n,e.next)}}}return null}function m_(n,e){if(e!==null){let r=n[lt][vt],i=e.projection;return r.projection[i]}return null}function eh(n,e){let t=pe+n+1;if(t<e.length){let r=e[t],i=r[V].firstChild;if(i!==null)return es(r,i)}return e[jn]}function kh(n,e,t,r,i,o,s){for(;t!=null;){let a=r[_n];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&ji(yt(c),r),t.flags|=2),!bh(t))if(l&8)kh(n,e,t.child,r,i,o,!1),Fi(e,n,a,i,c,t,o,r);else if(l&32){let u=Mh(t,r),d;for(;d=u();)Fi(e,n,a,i,d,t,o,r);Fi(e,n,a,i,c,t,o,r)}else l&16?EI(n,e,r,t,i,o):Fi(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function ll(n,e,t,r,i,o){kh(t,r,n.firstChild,e,i,o,!1)}function EI(n,e,t,r,i,o){let s=t[lt],c=s[vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Fi(e,n,t[_n],i,u,r,o,t)}else{let l=c,u=s[xe];Fy(r)&&(l.flags|=128),kh(n,e,l,u,i,o,!0)}}function DI(n,e,t,r,i,o,s){let a=r[jn],c=yt(r);a!==c&&Fi(e,n,t,o,a,i,s);for(let l=pe;l<r.length;l++){let u=r[l];ll(u[V],u,n,e,o,a)}}function CI(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zt.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zt.Important),n.setStyle(t,r,i,o))}}function v_(n,e,t,r,i){let o=$n(),s=r&2;try{Hn(-1),s&&e.length>De&&a_(n,e,De,!1),X(s?2:0,i,t),t(r,i)}finally{Hn(o),X(s?3:1,i,t)}}function y_(n,e,t){RI(n,e,t),(t.flags&64)===64&&NI(n,e,t)}function __(n,e,t=Rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function II(n,e,t,r){let o=r.get(Gy,zy)||t===bn.ShadowDom,s=n.selectRootElement(e,o);return SI(s),s}function SI(n){TI(n)}var TI=()=>null;function MI(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function w_(n,e,t,r,i,o){let s=e[V];if(Ph(n,s,e,t,r)){Vn(n)&&xI(e,n.index);return}n.type&3&&(t=MI(t)),AI(n,e,t,r,i,o)}function AI(n,e,t,r,i,o){if(n.type&3){let s=Rt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function xI(n,e){let t=_t(e,n);t[j]&16||(t[j]|=64)}function RI(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Vn(t)&&XC(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vc(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Uc(e,n,s,t);if(ji(c,e),o!==null&&LI(e,s-r,c,a,t,o),qt(a)){let l=_t(t.index,e);l[he]=Uc(e,n,s,t)}}}function NI(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=kv();try{Hn(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Ec(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&OI(c,l)}}finally{Hn(-1),Ec(s)}}function OI(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kI(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];BC(e,o.selectors,!1)&&(r??=[],qt(o)?r.unshift(o):r.push(o))}return r}function PI(n,e,t,r,i,o){let s=Rt(n,e);FI(e[se],s,o,n.value,t,r,i)}function FI(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?$o(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function LI(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Yf(r,t,c,l)}}function jI(n,e,t,r,i){let o=De+t,s=e[V],a=i(s,e,n,r,t);e[o]=a,Ni(n,!0);let c=n.type===2;return c?(i_(e[se],a,n),(bv()===0||yc(n))&&ji(a,e),Ev()):ji(a,e),Tc()&&(!c||!bh(n))&&Oh(s,e,a,n),n}function VI(n){let e=n;return bf()?Av():(e=e.parent,Ni(e,!1)),e}function UI(n,e){let t=n[_n];if(!t)return;let r;try{r=t.get(Xe,null)}catch{r=null}r?.(e)}function Ph(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Yf(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];Yf(u,l,r,i),a=!0}return a}function BI(n,e){let t=_t(e,n),r=t[V];$I(r,t);let i=t[At];i!==null&&t[Mi]===null&&(t[Mi]=qy(i,t[_n])),X(18),Fh(r,t,t[he]),X(19,t[he])}function $I(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Fh(n,e,t){Dc(e);try{let r=n.viewQuery;r!==null&&Jf(1,r,t);let i=n.template;i!==null&&v_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Dr]?.finishViewCreation(n),n.staticContentQueries&&Wy(n,e),n.staticViewQueries&&Jf(2,n.viewQuery,t);let o=n.components;o!==null&&HI(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[j]&=-5,Cc()}}function HI(n,e){for(let t=0;t<e.length;t++)BI(n,e[t])}function Lh(n,e,t,r){let i=F(null);try{let o=e.tView,a=n[j]&4096?4096:16,c=Sh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[br]=l;let u=n[Dr];return u!==null&&(c[Dr]=u.createEmbeddedView(o)),Fh(o,c,t),c}finally{F(i)}}function rs(n,e){return!e||e.firstChild===null||Fy(n)}function is(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(yt(o)),xt(o)&&b_(o,r);let s=t.type;if(s&8)is(n,e,t.child,r);else if(s&32){let a=Mh(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=m_(e,t);if(Array.isArray(a))r.push(...a);else{let c=Fn(e[lt]);is(c[V],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function b_(n,e){for(let t=pe;t<n.length;t++){let r=n[t],i=r[V].firstChild;i!==null&&is(r[V],r,i,e)}n[jn]!==n[At]&&e.push(n[jn])}function E_(n){if(n[Cr]!==null){for(let e of n[Cr])e.impl.addSequence(e);n[Cr].length=0}}var D_=[];function zI(n){return n[ut]??GI(n)}function GI(n){let e=D_.pop()??Object.create(WI);return e.lView=n,e}function qI(n){n.lView[ut]!==n&&(n.lView=null,D_.push(n))}var WI=$(w({},cr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Bn(n.lView)},consumerOnSignalRead(){this.lView[ut]=this}});function KI(n){let e=n[ut]??Object.create(ZI);return e.lView=n,e}var ZI=$(w({},cr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Fn(n.lView);for(;e&&!C_(e[V]);)e=Fn(e);e&&yf(e)},consumerOnSignalRead(){this.lView[ut]=this}});function C_(n){return n.type!==2}function I_(n){if(n[wn]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wn])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[j]&8192)}}var JI=100;function S_(n,e=0){let r=n[zt].rendererFactory,i=!1;i||r.begin?.();try{YI(n,e)}finally{i||r.end?.()}}function YI(n,e){let t=Ef();try{Oi(!0),th(n,e);let r=0;for(;Jo(n);){if(r===JI)throw new C(103,!1);r++,th(n,1)}}finally{Oi(t)}}function QI(n,e,t,r){if(Sr(e))return;let i=e[j],o=!1,s=!1;Dc(e);let a=!0,c=null,l=null;o||(C_(n)?(l=zI(e),c=lr(l)):Aa()===null?(a=!1,l=KI(e),c=lr(l)):e[ut]&&(ur(e[ut]),e[ut]=null));try{vf(e),xv(n.bindingStartIndex),t!==null&&v_(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&Nc(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Oc(e,f,0,null),Of(e,0)}if(s||XI(e),I_(e),T_(e,0),n.contentQueries!==null&&Wy(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&Nc(e,f)}else{let f=n.contentHooks;f!==null&&Oc(e,f,1),Of(e,1)}tS(n,e);let d=n.components;d!==null&&A_(e,d,0);let h=n.viewQuery;if(h!==null&&Jf(2,h,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&Nc(e,f)}else{let f=n.viewHooks;f!==null&&Oc(e,f,2),Of(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vc]){for(let f of e[vc])f();e[vc]=null}o||(E_(e),e[j]&=-73)}catch(u){throw o||Bn(e),u}finally{l!==null&&(fi(l,c),a&&qI(l)),Cc()}}function T_(n,e){for(let t=jy(n);t!==null;t=Vy(t))for(let r=pe;r<t.length;r++){let i=t[r];M_(i,e)}}function XI(n){for(let e=jy(n);e!==null;e=Vy(e)){if(!(e[j]&2))continue;let t=e[Ko];for(let r=0;r<t.length;r++){let i=t[r];yf(i)}}}function eS(n,e,t){X(18);let r=_t(e,n);M_(r,t),X(19,r[he])}function M_(n,e){_c(n)&&th(n,e)}function th(n,e){let r=n[V],i=n[j],o=n[ut],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hi(o)),s||=!1,o&&(o.dirty=!1),n[j]&=-9217,s)QI(r,n,r.template,n[he]);else if(i&8192){let a=F(null);try{I_(n),T_(n,1);let c=r.components;c!==null&&A_(n,c,1),E_(n)}finally{F(a)}}}function A_(n,e,t){for(let r=0;r<e.length;r++)eS(n,e[r],t)}function tS(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Hn(~i);else{let o=i,s=t[++r],a=t[++r];Ov(s,o);let c=e[o];X(24,c),a(2,c),X(25,c)}}}finally{Hn(-1)}}function jh(n,e){let t=Ef()?64:1088;for(n[zt].changeDetectionScheduler?.notify(e);n;){n[j]|=t;let r=Fn(n);if(Ri(n)&&!r)return n;n=r}return null}function x_(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function R_(n,e){let t=pe+e;if(t<n.length)return n[t]}function ul(n,e,t,r=!0){let i=e[V];if(nS(i,e,n,t),r){let s=eh(t,n),a=e[se],c=a.parentNode(n[jn]);c!==null&&fI(i,n[vt],a,e,c,s)}let o=e[Mi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function N_(n,e){let t=os(n,e);return t!==void 0&&cl(t[V],t),t}function os(n,e){if(n.length<=pe)return;let t=pe+e,r=n[t];if(r){let i=r[br];i!==null&&i!==n&&Nh(i,r),e>0&&(n[t-1][mt]=r[mt]);let o=Ho(n,pe+e);dI(r[V],r);let s=o[Dr];s!==null&&s.detachView(o[V]),r[xe]=null,r[mt]=null,r[j]&=-129}return r}function nS(n,e,t,r){let i=pe+r,o=t.length;r>0&&(t[i-1][mt]=e),r<o-pe?(e[mt]=t[i],ef(t,pe+r,e)):(t.push(e),e[mt]=null),e[xe]=t;let s=e[br];s!==null&&t!==s&&O_(s,e);let a=e[Dr];a!==null&&a.insertView(n),wc(e),e[j]|=128}function O_(n,e){let t=n[Ko],r=e[xe];if(Gt(r))n[j]|=2;else{let i=r[xe][lt];e[lt]!==i&&(n[j]|=2)}t===null?n[Ko]=[e]:t.push(e)}var Nr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[V];return is(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[he]}set context(e){this._lView[he]=e}get destroyed(){return Sr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(xt(e)){let t=e[Wo],r=t?t.indexOf(this):-1;r>-1&&(os(e,r),Ho(t,r))}this._attachedToViewContainer=!1}cl(this._lView[V],this._lView)}onDestroy(e){_f(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){wc(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,S_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ri(this._lView),t=this._lView[br];t!==null&&!e&&Nh(t,this._lView),g_(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let t=Ri(this._lView),r=this._lView[br];r!==null&&!t&&O_(r,this._lView),wc(this._lView)}};function Vh(n,e,t,r,i){let o=n.data[e];if(o===null)o=rS(n,e,t,r,i),Nv()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Mv();o.injectorIndex=s===null?-1:s.injectorIndex}return Ni(o,!0),o}function rS(n,e,t,r,i){let o=wf(),s=bf(),a=s?o:o&&o.parent,c=n.data[e]=oS(n,a,t,e,r,i);return iS(n,c,o,s),c}function iS(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function oS(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Iv()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var OV=new RegExp(`^(\\d+)*(${AC}|${MC})*(.*)`);function sS(n){let e=n[df]??[],r=n[xe][se],i=[];for(let o of e)o.data[Hy]!==void 0?i.push(o):aS(o,r);n[df]=i}function aS(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[$y];for(;t<i;){let o=r.nextSibling;r_(e,r,!1),r=o,t++}}}var cS=()=>null,lS=()=>null;function nh(n,e){return cS(n,e)}function k_(n,e,t){return lS(n,e,t)}var P_=class{},dl=class{},rh=class{resolveComponentFactory(e){throw new C(917,!1)}},fs=class{static NULL=new rh},Or=class{},zn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>uS()}return n})();function uS(){let n=Z(),e=Qe(),t=_t(e.index,n);return(Gt(t)?t:n)[se]}var F_=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>null})}return n})();var kc={},ih=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,kc,r);return i!==kc||t===kc?i:this.parentInjector.get(e,t,r)}};function oy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=zd(i,a);else if(o==2){let c=a,l=e[++s];r=zd(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=0){let t=Z();if(t===null)return O(n,e);let r=Qe();return Oy(r,t,Fe(n),e)}function Uh(){let n="invalid";throw new Error(n)}function dS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}pS(n,e,t,a,o,c,l)}o!==null&&r!==null&&fS(t,r,o)}function fS(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}function hS(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pS(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&qt(f)&&(c=!0,hS(n,t,h)),qf(Vc(t,e),n,f.type)}wS(t,n.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=s_(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=ns(t.mergedAttrs,f.hostAttrs),mS(n,t,e,d,f),_S(d,f,i),s!==null&&s.has(f)){let[v,m]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}gS(n,t,o)}function gS(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))sy(0,e,i,r),sy(1,e,i,r),cy(e,r,!1);else{let o=t.get(i);ay(0,e,o,r),ay(1,e,o,r),cy(e,r,!0)}}}function sy(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),L_(e,o)}}function ay(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),L_(e,s)}}function L_(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cy(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ch(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function mS(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pn(i.type,!0)),s=new xr(o,qt(i),z,null);n.blueprint[r]=s,t[r]=s,vS(n,e,r,s_(n,t,i.hostVars,Yt),i)}function vS(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yS(s)!=a&&s.push(a),s.push(t,r,o)}}function yS(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _S(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qt(e)&&(t[""]=n)}}function wS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function j_(n,e,t,r,i,o,s,a){let c=e[V],l=c.consts,u=Un(l,s),d=Vh(c,n,t,r,u);return o&&dS(c,e,d,Un(l,a),i),d.mergedAttrs=ns(d.mergedAttrs,d.attrs),d.attrs!==null&&oy(d,d.attrs,!1),d.mergedAttrs!==null&&oy(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function V_(n,e){aC(n,e),ff(e)&&n.queries.elementEnd(e)}function U_(n,e,t){return n[e]=t}function Jt(n,e,t){if(t===Yt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function bS(n,e,t,r){let i=Jt(n,e,t);return Jt(n,e+1,r)||i}function Ff(n,e,t){return function r(i){let o=Vn(n)?_t(n.index,e):e;jh(o,5);let s=e[he],a=ly(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=ly(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function ly(n,e,t,r){let i=F(null);try{return X(6,e,t),t(r)!==!1}catch(o){return UI(n,o),!1}finally{X(7,e,t),F(i)}}function ES(n,e,t,r,i,o,s,a){let c=yc(n),l=!1,u=null;if(!r&&c&&(u=CS(e,t,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Rt(n,t),h=r?r(d):d;RC(t,h,o,a);let f=i.listen(h,o,a);if(!DS(o)){let g=r?v=>r(yt(v[n.index])):n.index;B_(g,e,t,o,a,f,!1)}}return l}function DS(n){return n.startsWith("animation")||n.startsWith("transition")}function CS(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ai],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function B_(n,e,t,r,i,o,s){let a=e.firstCreatePass?wv(e):null,c=_v(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function uy(n,e,t,r,i,o){let s=e[t],a=e[V],l=a.data[t].outputs[r],d=s[l].subscribe(o);B_(n.index,a,e,i,o,d,!0)}var oh=Symbol("BINDING");var qc=class extends fs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yn(e);return new kr(t,this.ngModule)}};function IS(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ol.SignalBased)!==0};return i&&(o.transform=i),o})}function SS(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function TS(n,e,t){let r=e instanceof fe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ih(t,r):t}function MS(n){let e=n.get(Or,null);if(e===null)throw new C(407,!1);let t=n.get(F_,null),r=n.get(Mt,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function AS(n,e){let t=$_(n);return t_(e,t,t==="svg"?hf:t==="math"?gv:null)}function $_(n){return(n.selectors[0][0]||"div").toLowerCase()}var kr=class extends dl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=IS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SS(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GC(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){X(22);let a=F(null);try{let c=this.componentDef,l=xS(r,c,s,o),u=TS(c,i||this.ngModule,e),d=MS(u),h=d.rendererFactory.createRenderer(null,c),f=r?II(h,r,c.encapsulation,u):AS(c,h),g=s?.some(dy)||o?.some(y=>typeof y!="function"&&y.bindings.some(dy)),v=Sh(null,l,null,512|o_(c),null,null,d,h,u,null,qy(f,u,!0));v[De]=f,Dc(v);let m=null;try{let y=j_(De,v,2,"#host",()=>l.directiveRegistry,!0,0);i_(h,f,y),ji(f,v),y_(l,v,y),Ky(l,y,v),V_(l,y),t!==void 0&&NS(y,this.ngContentSelectors,t),m=_t(y.index,v),v[he]=m[he],Fh(l,v,null)}catch(y){throw m!==null&&Kf(m),Kf(v),y}finally{X(23),Cc()}return new Wc(this.componentType,v,!!g)}finally{F(a)}}};function xS(n,e,t,r){let i=n?["ng-version","20.3.12"]:qC(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[oh].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[oh].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=of(d);c.push(h)}return Ih(0,null,RS(o,s),1,a,c,null,null,null,[i],null)}function RS(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function dy(n){let e=n[oh].kind;return e==="input"||e==="twoWay"}var Wc=class extends P_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Zo(t[V],De),this.location=vh(this._tNode,t),this.instance=_t(this._tNode.index,t)[he],this.hostView=this.changeDetectorRef=new Nr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ph(r,i[V],i,e,t);this.previousInputValues.set(e,t);let s=_t(r.index,i);jh(s,1)}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NS(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hs=(()=>{class n{static __NG_ELEMENT_ID__=OS}return n})();function OS(){let n=Qe();return PS(n,Z())}var kS=hs,H_=class extends kS{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return vh(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=mh(this._hostTNode,this._hostLView);if(Ty(e)){let t=Lc(e,this._hostLView),r=Fc(e),i=t[V].data[r+8];return new Ar(i,t)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fy(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pe}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,rs(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!nC(e),l;if(c)l=t;else{let m=t||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=c?e:new kr(yn(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(fe,null);y&&(o=y)}let h=yn(u.componentType??{}),f=nh(this._lContainer,h?.id??null),g=f?.firstChild??null,v=u.create(d,i,g,o,s,a);return this.insertImpl(v.hostView,l,rs(this._hostTNode,f)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(mv(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xe],l=new H_(c,c[vt],c[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ul(s,i,o,r),e.attachToViewContainerRef(),ef(Lf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fy(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=os(this._lContainer,t);r&&(Ho(Lf(this._lContainer),t),cl(r[V],r))}detach(e){let t=this._adjustIndex(e,-1),r=os(this._lContainer,t);return r&&Ho(Lf(this._lContainer),t)!=null?new Nr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function fy(n){return n[Wo]}function Lf(n){return n[Wo]||(n[Wo]=[])}function PS(n,e){let t,r=e[n.index];return xt(r)?t=r:(t=x_(r,e,null,n),e[n.index]=t,Th(e,t)),LS(t,e,n,r),new H_(t,n,e)}function FS(n,e){let t=n[se],r=t.createComment(""),i=Rt(e,n),o=t.parentNode(i);return $c(t,o,r,t.nextSibling(i),!1),r}var LS=US,jS=()=>!1;function VS(n,e,t){return jS(n,e,t)}function US(n,e,t,r){if(n[jn])return;let i;t.type&8?i=yt(r):i=FS(e,t),n[jn]=i}var Pr=class{},fl=class{};var Kc=class extends Pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qc(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=rf(e);this._bootstrapComponents=Xy(o.bootstrap),this._r3Injector=Sf(e,t,[{provide:Pr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],pn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zc=class extends fl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Kc(this.moduleType,e,[])}};var ss=class extends Pr{injector;componentFactoryResolver=new qc(this);instance=null;constructor(e){super();let t=new yr([...e.providers,{provide:Pr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],e.parent||Go(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bi(n,e,t=null){return new ss({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var BS=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=sf(!1,t.type),i=r.length>0?Bi([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:n,providedIn:"environment",factory:()=>new n(O(fe))})}return n})();function kt(n){return cs(()=>{let e=z_(n),t=$(w({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(BS).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,styles:n.styles||ct,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ot("NgStandalone"),G_(t);let r=n.dependencies;return t.directiveDefs=hy(r,$S),t.pipeDefs=hy(r,av),t.id=GS(t),t})}function $S(n){return yn(n)||of(n)}function Pt(n){return cs(()=>({type:n.type,bootstrap:n.bootstrap||ct,declarations:n.declarations||ct,imports:n.imports||ct,exports:n.exports||ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function HS(n,e){if(n==null)return Ln;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=ol.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function zS(n){if(n==null)return Ln;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Le(n){return cs(()=>{let e=z_(n);return G_(e),e})}function hl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function z_(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ln,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HS(n.inputs,e),outputs:zS(n.outputs),debugInfo:null}}function G_(n){n.features?.forEach(e=>e(n))}function hy(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function GS(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qS(n){return Object.getPrototypeOf(n.prototype).constructor}function Qt(n){let e=qS(n.type),t=!0,r=[n];for(;e;){let i;if(qt(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=jf(n.inputs),s.declaredInputs=jf(n.declaredInputs),s.outputs=jf(n.outputs);let a=i.hostBindings;a&&YS(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&ZS(n,c),l&&JS(n,l),WS(n,i),ev(n.outputs,i.outputs),qt(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Qt&&(t=!1)}}e=Object.getPrototypeOf(e)}KS(r)}function WS(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function KS(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ns(i.hostAttrs,t=ns(t,i.hostAttrs))}}function jf(n){return n===Ln?{}:n===ct?[]:n}function ZS(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function JS(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function YS(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function QS(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ns(n.mergedAttrs,n.attrs);let u=n.tView=Ih(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ni(n,!1);let c=XS(t,e,n,r);Tc()&&Oh(t,e,c,n),ji(c,e);let l=x_(c,e,c,n);e[r+De]=l,Th(e,l),VS(l,n,e)}function Jc(n,e,t,r,i,o,s,a,c,l,u){let d=t+De,h;if(e.firstCreatePass){if(h=Vh(e,d,4,s||null,a||null),l!=null){let f=Un(e.consts,l);h.localNames=[];for(let g=0;g<f.length;g+=2)h.localNames.push(f[g],-1)}}else h=e.data[d];return QS(h,n,e,t,r,i,o,c),l!=null&&__(n,h,u),h}var XS=eT;function eT(n,e,t,r){return Mc(!0),e[se].createComment("")}var Bh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var $h=new A("");function Gn(n){return!!n&&typeof n.then=="function"}function Hh(n){return!!n&&typeof n.subscribe=="function"}var zh=new A("");function pl(n){return Ht([{provide:zh,multi:!0,useValue:n}])}var Gh=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=_(zh,{optional:!0})??[];injector=_(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Re(this.injector,i);if(Gn(o))t.push(o);else if(Hh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ps=new A("");function q_(){hd(()=>{let n="";throw new C(600,n)})}function W_(n){return n.isBoundToModule}var tT=10;var qn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Xe);afterRenderManager=_(Rh);zonelessEnabled=_(Yo);rootEffectScheduler=_(Xo);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(Wt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(L(t=>!t))}constructor(){_(jr,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=_(fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=We.NULL){return this._injector.get(ue).run(()=>{X(10);let s=t instanceof dl;if(!this._injector.get(Gh).done){let g="";throw new C(405,g)}let c;s?c=t:c=this._injector.get(fs).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=W_(c)?void 0:this._injector.get(Pr),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get($h,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ts(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),X(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){X(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let t=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(t),this.afterTick.next(),X(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Or,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<tT;)X(14),this.synchronizeOnce(),X(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Jo(i))continue;let o=r&&!this.zonelessEnabled?0:1;S_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Jo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ts(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(ps,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ts(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ts(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $i(n,e,t,r){let i=Z(),o=Tr();if(Jt(i,o,e)){let s=Ke(),a=Ic();PI(a,i,n,e,t,r)}return $i}var UV=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var sh=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Vf(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function nT(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),u=e[o],d=Vf(o,l,o,u,t);if(d!==0){d<0&&n.updateValue(o,u),o++;continue}let h=n.at(s),f=e[c],g=Vf(s,h,c,f,t);if(g!==0){g<0&&n.updateValue(s,f),s--,c--;continue}let v=t(o,l),m=t(s,h),y=t(o,u);if(Object.is(y,m)){let T=t(c,f);Object.is(T,v)?(n.swap(o,s),n.updateValue(s,f),c--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(r??=new Yc,i??=gy(n,o,s,t),ah(n,r,o,y))n.updateValue(o,u),o++,s++;else if(i.has(y))r.set(v,n.detach(o)),s--;else{let T=n.create(o,e[o]);n.attach(o,T),o++,s++}}for(;o<=c;)py(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=n.at(o),d=l.value,h=Vf(o,u,o,d,t);if(h!==0)h<0&&n.updateValue(o,d),o++,l=c.next();else{r??=new Yc,i??=gy(n,o,s,t);let f=t(o,d);if(ah(n,r,o,f))n.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(f))n.attach(o,n.create(o,d)),o++,s++,l=c.next();else{let g=t(o,u);r.set(g,n.detach(o)),s--}}}for(;!l.done;)py(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function ah(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function py(n,e,t,r,i){if(ah(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function gy(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Yc=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function je(n,e,t,r,i,o,s,a){Ot("NgControlFlow");let c=Z(),l=Ke(),u=Un(l.consts,o);return Jc(c,l,n,e,t,r,i,u,256,s,a),qh}function qh(n,e,t,r,i,o,s,a){Ot("NgControlFlow");let c=Z(),l=Ke(),u=Un(l.consts,o);return Jc(c,l,n,e,t,r,i,u,512,s,a),qh}function Ve(n,e){Ot("NgControlFlow");let t=Z(),r=Tr(),i=t[r]!==Yt?t[r]:-1,o=i!==-1?Qc(t,De+i):void 0,s=0;if(Jt(t,r,n)){let a=F(null);try{if(o!==void 0&&N_(o,s),n!==-1){let c=De+n,l=Qc(t,c),u=dh(t[V],c),d=k_(l,u,t),h=Lh(t,u,e,{dehydratedView:d});ul(l,h,s,rs(u,d))}}finally{F(a)}}else if(o!==void 0){let a=R_(o,s);a!==void 0&&(a[he]=e)}}var ch=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-pe}};function Wh(n,e){return e}var lh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Hi(n,e,t,r,i,o,s,a,c,l,u,d,h){Ot("NgControlFlow");let f=Z(),g=Ke(),v=c!==void 0,m=Z(),y=a?s.bind(m[lt][he]):s,T=new lh(v,y);m[De+n]=T,Jc(f,g,n+1,e,t,r,i,Un(g.consts,o),256),v&&Jc(f,g,n+2,c,l,u,d,Un(g.consts,h),512)}var uh=class extends sh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-pe}at(e){return this.getLView(e)[he].$implicit}attach(e,t){let r=t[Mi];this.needsIndexUpdate||=e!==this.length,ul(this.lContainer,t,e,rs(this.templateTNode,r)),rT(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,iT(this.lContainer,e),oT(this.lContainer,e)}create(e,t){let r=nh(this.lContainer,this.templateTNode.tView.ssrId),i=Lh(this.hostLView,this.templateTNode,new ch(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){cl(e[V],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[he].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[he].$index=e}getLView(e){return sT(this.lContainer,e)}};function zi(n){let e=F(null),t=$n();try{let r=Z(),i=r[V],o=r[t],s=t+1,a=Qc(r,s);if(o.liveCollection===void 0){let l=dh(i,s);o.liveCollection=new uh(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(nT(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Tr(),u=c.length===0;if(Jt(r,l,u)){let d=t+2,h=Qc(r,d);if(u){let f=dh(i,d),g=k_(h,f,r),v=Lh(r,f,void 0,{dehydratedView:g});ul(h,v,0,rs(f,g))}else i.firstUpdatePass&&sS(h),N_(h,0)}}}finally{F(e)}}function Qc(n,e){return n[e]}function rT(n,e){if(n.length<=pe)return;let t=pe+e,r=n[t],i=r?r[Ir]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[_n];lI(o,i),Rr.delete(r),i.detachedLeaveAnimationFns=void 0}}function iT(n,e){if(n.length<=pe)return;let t=pe+e,r=n[t],i=r?r[Ir]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function oT(n,e){return os(n,e)}function sT(n,e){return R_(n,e)}function dh(n,e){return Zo(n,e)}function Ne(n,e,t){let r=Z(),i=Tr();if(Jt(r,i,e)){let o=Ke(),s=Ic();w_(s,r,n,e,r[se],t)}return Ne}function my(n,e,t,r,i){Ph(e,n,t,i?"class":"style",r)}function b(n,e,t,r){let i=Z(),o=i[V],s=n+De,a=o.firstCreatePass?j_(s,i,2,e,kI,Cv(),t,r):o.data[s];if(jI(a,i,n,e,aT),yc(a)){let c=i[V];y_(c,i,a),Ky(c,a,i)}return r!=null&&__(i,a),b}function D(){let n=Ke(),e=Qe(),t=VI(e);return n.firstCreatePass&&V_(n,t),Sv(t)&&Tv(),Dv(),t.classesWithoutHost!=null&&lC(t)&&my(n,t,Z(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&uC(t)&&my(n,t,Z(),t.stylesWithoutHost,!1),D}function be(n,e,t,r){return b(n,e,t,r),D(),be}var aT=(n,e,t,r,i)=>(Mc(!0),t_(e[se],r,Uv()));function Cn(){return Z()}var xc=void 0;function cT(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var lT=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xc,"{1} 'at' {0}",xc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",cT],Uf={};function gl(n){let e=uT(n),t=vy(e);if(t)return t;let r=e.split("-")[0];if(t=vy(r),t)return t;if(r==="en")return lT;throw new C(701,!1)}function vy(n){return n in Uf||(Uf[n]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[n]),Uf[n]}var Vr=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Vr||{});function uT(n){return n.toLowerCase().replace(/_/g,"-")}var gs="en-US";var dT=gs;function K_(n){typeof n=="string"&&(dT=n.toLowerCase().replace(/_/g,"-"))}function oe(n,e,t){let r=Z(),i=Ke(),o=Qe();return Z_(i,r,r[se],o,n,e,t),oe}function Z_(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ff(r,e,o),ES(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=Ff(r,e,o),uy(r,e,h,f,i,c)}if(l&&l.length)for(let d of l)c??=Ff(r,e,o),uy(r,e,d,i,i,c)}}function ce(n=1){return Vv(n)}function Rc(n,e){return n<<17|e<<2}function Fr(n){return n>>17&32767}function fT(n){return(n&2)==2}function hT(n,e){return n&131071|e<<17}function fh(n){return n|2}function Vi(n){return(n&131068)>>2}function Bf(n,e){return n&-131069|e<<2}function pT(n){return(n&1)===1}function hh(n){return n|1}function gT(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fr(s),c=Vi(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ti(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let h=Fr(n[a+1]);n[r+1]=Rc(h,a),h!==0&&(n[h+1]=Bf(n[h+1],r)),n[a+1]=hT(n[a+1],r)}else n[r+1]=Rc(a,0),a!==0&&(n[a+1]=Bf(n[a+1],r)),a=r;else n[r+1]=Rc(c,0),a===0?a=r:n[c+1]=Bf(n[c+1],r),c=r;l&&(n[r+1]=fh(n[r+1])),yy(n,u,r,!0),yy(n,u,r,!1),mT(e,u,n,r,o),s=Rc(a,c),o?e.classBindings=s:e.styleBindings=s}function mT(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ti(o,e)>=0&&(t[r+1]=hh(t[r+1]))}function yy(n,e,t,r){let i=n[t+1],o=e===null,s=r?Fr(i):Vi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];vT(c,e)&&(a=!0,n[s+1]=r?hh(l):fh(l)),s=r?Fr(l):Vi(l)}a&&(n[t+1]=r?fh(i):hh(i))}function vT(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ti(n,e)>=0:!1}function ml(n,e,t){return J_(n,e,t,!1),ml}function Ue(n,e){return J_(n,e,null,!0),Ue}function J_(n,e,t,r){let i=Z(),o=Ke(),s=Rv(2);if(o.firstUpdatePass&&_T(o,n,s,r),e!==Yt&&Jt(i,s,e)){let a=o.data[$n()];CT(o,a,i,i[se],n,i[s+1]=IT(e,t),r,s)}}function yT(n,e){return e>=n.expandoStartIndex}function _T(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[$n()],s=yT(n,t);ST(o,r)&&e===null&&!s&&(e=!1),e=wT(i,o,e,r),gT(i,o,e,t,s,r)}}function wT(n,e,t,r){let i=Pv(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=$f(null,n,e,t,r),t=as(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=$f(i,n,e,t,r),o===null){let c=bT(n,e,r);c!==void 0&&Array.isArray(c)&&(c=$f(null,n,e,c[1],r),c=as(c,e.attrs,r),ET(n,e,r,c))}else o=DT(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function bT(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Vi(r)!==0)return n[Fr(r)]}function ET(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Fr(i)]=r}function DT(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=as(r,s,t)}return as(r,e.attrs,t)}function $f(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=as(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function as(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sv(n,s,t?!0:e[++o]))}return n===void 0?null:n}function CT(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=pT(l)?_y(c,e,t,i,Vi(l),s):void 0;if(!Xc(u)){Xc(o)||fT(l)&&(o=_y(c,null,t,i,a,s));let d=pf($n(),t);CI(r,s,d,i,o)}}function _y(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[i+1];h===Yt&&(h=d?ct:void 0);let f=d?mc(h,r):u===r?h:void 0;if(l&&!Xc(f)&&(f=mc(c,r)),Xc(f)&&(a=f,s))return a;let g=n[i+1];i=s?Fr(g):Vi(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=mc(c,r))}return a}function Xc(n){return n!==void 0}function IT(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=pn(ds(n)))),n}function ST(n,e){return(n.flags&(e?8:16))!==0}function R(n,e=""){let t=Z(),r=Ke(),i=n+De,o=r.firstCreatePass?Vh(r,i,1,e,null):r.data[i],s=TT(r,t,o,e,n);t[i]=s,Tc()&&Oh(r,t,s,o),Ni(o,!1)}var TT=(n,e,t,r,i)=>(Mc(!0),WC(e[se],r));function MT(n,e,t,r=""){return Jt(n,Tr(),t)?e+$o(t)+r:Yt}function Ce(n){return Be("",n),Ce}function Be(n,e,t){let r=Z(),i=MT(r,n,e,t);return i!==Yt&&AT(r,$n(),i),Be}function AT(n,e,t){let r=pf(e,n);KC(n[se],r,t)}function ms(n,e,t){xf(e)&&(e=e());let r=Z(),i=Tr();if(Jt(r,i,e)){let o=Ke(),s=Ic();w_(s,r,n,e,r[se],t)}return ms}function vl(n,e){let t=xf(n);return t&&n.set(e),t}function vs(n,e){let t=Z(),r=Ke(),i=Qe();return Z_(r,t,t[se],i,n,e),vs}function xT(n,e,t){let r=Ke();if(r.firstCreatePass){let i=qt(n);ph(t,r.data,r.blueprint,i,!0),ph(e,r.data,r.blueprint,i,!1)}}function ph(n,e,t,r,i){if(n=Fe(n),Array.isArray(n))for(let o=0;o<n.length;o++)ph(n[o],e,t,r,i);else{let o=Ke(),s=Z(),a=Qe(),c=vr(n)?n:Fe(n.provide),l=cf(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(vr(n)||!n.multi){let f=new xr(l,i,z,null),g=zf(c,e,i?u:u+h,d);g===-1?(qf(Vc(a,s),o,c),Hf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=zf(c,e,u+h,d),g=zf(c,e,u,u+h),v=f>=0&&t[f],m=g>=0&&t[g];if(i&&!m||!i&&!v){qf(Vc(a,s),o,c);let y=OT(i?NT:RT,t.length,i,r,l,n);!i&&m&&(t[g].providerFactory=y),Hf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=Y_(t[i?g:f],l,!i&&r);Hf(o,n,f>-1?f:g,y)}!i&&r&&m&&t[g].componentProviders++}}}function Hf(n,e,t,r){let i=vr(e),o=fv(e);if(i||o){let c=(o?Fe(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Y_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RT(n,e,t,r,i){return gh(this.multi,[])}function NT(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Uc(r,r[V],this.providerFactory.index,i);s=c.slice(0,a),gh(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],gh(o,s);return s}function gh(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function OT(n,e,t,r,i,o){let s=new xr(n,t,z,null);return s.multi=[],s.index=e,s.componentProviders=0,Y_(s,i,r&&!t),s}function Gi(n,e=[]){return t=>{t.providersResolver=(r,i)=>xT(r,i?i(n):n,e)}}function qi(n,e,t,r){return X_(Z(),bc(),n,e,t,r)}function Q_(n,e){let t=n[e];return t===Yt?void 0:t}function X_(n,e,t,r,i,o){let s=e+t;return Jt(n,s,i)?U_(n,s+1,o?r.call(o,i):r(i)):Q_(n,s+1)}function kT(n,e,t,r,i,o,s){let a=e+t;return bS(n,a,i,o)?U_(n,a+2,s?r.call(s,i,o):r(i,o)):Q_(n,a+2)}function Wi(n,e){let t=Ke(),r,i=n+De;t.firstCreatePass?(r=PT(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Pn(r.type,!0)),s,a=Ye(z);try{let c=jc(!1),l=o();return jc(c),mf(t,Z(),i,l),l}finally{Ye(a)}}function PT(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Kh(n,e,t){let r=n+De,i=Z(),o=gf(i,r);return ew(i,r)?X_(i,bc(),e,o.transform,t,o):o.transform(t)}function ys(n,e,t,r){let i=n+De,o=Z(),s=gf(o,i);return ew(o,i)?kT(o,bc(),e,s.transform,t,r,s):s.transform(t,r)}function ew(n,e){return n[V].data[e].pure}var el=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Zh=(()=>{class n{compileModuleSync(t){return new Zc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rf(t),o=Xy(i.declarations).reduce((s,a)=>{let c=yn(a);return c&&s.push(new kr(c)),s},[]);return new el(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var FT=(()=>{class n{zone=_(ue);changeDetectionScheduler=_(Mt);applicationRef=_(qn);applicationErrorHandler=_(Xe);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tw=new A("",{factory:()=>!1});function Jh({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ue($(w({},Qh()),{scheduleInRootZone:t})),[{provide:ue,useFactory:n},{provide:vn,multi:!0,useFactory:()=>{let r=_(FT,{optional:!0});return()=>r.initialize()}},{provide:vn,multi:!0,useFactory:()=>{let r=_(LT);return()=>{r.initialize()}}},e===!0?{provide:Rf,useValue:!0}:[],{provide:Nf,useValue:t??c_},{provide:Xe,useFactory:()=>{let r=_(ue),i=_(fe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pt),o.handleError(s))})}}}]}function Yh(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Jh({ngZoneFactory:()=>{let i=Qh(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ot("NgZone_CoalesceEvent"),new ue(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ht([{provide:tw,useValue:!0},{provide:Yo,useValue:!1},r])}function Qh(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var LT=(()=>{class n{subscription=new ve;initialized=!1;zone=_(ue);pendingTasks=_(Wt);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nw=(()=>{class n{applicationErrorHandler=_(Xe);appRef=_(qn);taskService=_(Wt);ngZone=_(ue);zonelessEnabled=_(Yo);tracing=_(jr,{optional:!0});disableScheduling=_(Rf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(Nf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Xv:l_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jT(){return typeof $localize<"u"&&$localize.locale||gs}var _s=new A("",{providedIn:"root",factory:()=>_(_s,{optional:!0,skipSelf:!0})||jT()});function Oe(n){return Zm(n)}function wt(n,e){return Oa(n,e?.equal)}var Xh=class{[Ge];constructor(e){this[Ge]=e}destroy(){this[Ge].destroy()}};function ws(n,e){let t=e?.injector??_(We),r=e?.manualCleanup!==!0?t.get(dt):null,i,o=t.get(Pi,null,{optional:!0}),s=t.get(Mt);return o!==null?(i=BT(o.view,s,n),r instanceof Uo&&r._lView===o.view&&(r=null)):i=$T(n,t.get(Xo),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Xh(i)}var rw=$(w({},Jm),{cleanupFns:void 0,zone:null,onDestroyFn:Mr,run(){let n=Oi(!1);try{Ym(this)}finally{Oi(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=F(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],F(n)}}}),VT=$(w({},rw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ur(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),UT=$(w({},rw),{consumerMarkedDirty(){this.view[j]|=8192,Bn(this.view),this.notifier.notify(13)},destroy(){ur(this),this.onDestroyFn(),this.cleanup(),this.view[wn]?.delete(this)}});function BT(n,e,t){let r=Object.create(UT);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=iw(r,t),n[wn]??=new Set,n[wn].add(r),r.consumerMarkedDirty(r),r}function $T(n,e,t){let r=Object.create(VT);return r.fn=iw(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function iw(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var cw=Symbol("InputSignalNode#UNSET"),iM=$(w({},ka),{transformFn:void 0,applyValueToInputSignal(n,e){gi(n,e)}});function lw(n,e){let t=Object.create(iM);t.value=n,t.transformFn=e?.transform;function r(){if(di(t),t.value===cw){let i=null;throw new C(-950,i)}return t.value}return r[Ge]=t,r}var _l=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ls(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},oM=new A("");oM.__NG_ELEMENT_ID__=n=>{let e=Qe();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new C(204,!1)};function ow(n,e){return lw(n,e)}function sM(n){return lw(cw,n)}var uw=(ow.required=sM,ow);var ep=new A(""),aM=new A("");function bs(n){return!n.moduleRef}function cM(n){let e=bs(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ue);return t.run(()=>{bs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xe),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),bs(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ep);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ep);s.add(o),n.moduleRef.onDestroy(()=>{ts(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return uM(r,t,()=>{let o=e.get(Wt),s=o.add(),a=e.get(Gh);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(_s,gs);if(K_(c||gs),!e.get(aM,!0))return bs(n)?e.get(qn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(bs(n)){let u=e.get(qn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return lM?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var lM;function uM(n,e,t){try{let r=t();return Gn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var yl=null;function dM(n=[],e){return We.create({name:e,providers:[{provide:zo,useValue:"platform"},{provide:ep,useValue:new Set([()=>yl=null])},...n]})}function fM(n=[]){if(yl)return yl;let e=dM(n);return yl=e,q_(),hM(e),e}function hM(n){let e=n.get(nl,null);Re(n,()=>{e?.forEach(t=>t())})}var Ur=(()=>{class n{static __NG_ELEMENT_ID__=pM}return n})();function pM(n){return gM(Qe(),Z(),(n&16)===16)}function gM(n,e,t){if(Vn(n)&&!t){let r=_t(n.index,e);return new Nr(r,r)}else if(n.type&175){let r=e[lt];return new Nr(r,e)}return null}function dw(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;X(8);try{let o=i?.injector??fM(r),s=[Jh({}),{provide:Mt,useExisting:nw},$v,...t||[]],a=new ss({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return cM({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{X(9)}}function Wn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fw(n){let e=yn(n);if(!e)return null;let t=new kr(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gw=null;function bt(){return gw}function tp(n){gw??=n}var Es=class{},Ds=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_(mw),providedIn:"platform"})}return n})(),np=new A(""),mw=(()=>{class n extends Ds{_location;_history;_doc=_(ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bt().getBaseHref(this._doc)}onPopState(t){let r=bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bl(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function hw(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ft(n){return n&&n[0]!=="?"?`?${n}`:n}var Lt=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_(Dl),providedIn:"root"})}return n})(),El=new A(""),Dl=(()=>{class n extends Lt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ft(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ft(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ft(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(O(Ds),O(El,8))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kn=(()=>{class n{_subject=new ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=yM(hw(pw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ft(r))}normalize(t){return n.stripTrailingSlash(vM(this._basePath,pw(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ft(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ft(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ft;static joinWithSlash=bl;static stripTrailingSlash=hw;static \u0275fac=function(r){return new(r||n)(O(Lt))};static \u0275prov=M({token:n,factory:()=>mM(),providedIn:"root"})}return n})();function mM(){return new Kn(O(Lt))}function vM(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function pw(n){return n.replace(/\/index.html$/,"")}function yM(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var op=(()=>{class n extends Lt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=bl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ft(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ft(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(O(Ds),O(El,8))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();var sp=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(sp||{});var Xt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ki(n,e){let t=gl(n),r=t[Vr.NumberSymbols][e];if(typeof r>"u"){if(e===Xt.CurrencyDecimal)return t[Vr.NumberSymbols][Xt.Decimal];if(e===Xt.CurrencyGroup)return t[Vr.NumberSymbols][Xt.Group]}return r}function yw(n,e){return gl(n)[Vr.NumberFormats][e]}var _M=/^(\d+)?\.((\d+)(-(\d+))?)?$/,vw=22,Cl=".",Cs="0",wM=";",bM=",",rp="#";function EM(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Ki(t,Xt.Infinity);else{let l=IM(n);s&&(l=CM(l));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(o){let T=o.match(_M);if(T===null)throw new C(2306,!1);let S=T[1],E=T[3],H=T[5];S!=null&&(u=ip(S)),E!=null&&(d=ip(E)),H!=null?h=ip(H):E!=null&&d>h&&(h=d)}SM(l,d,h);let f=l.digits,g=l.integerLen,v=l.exponent,m=[];for(c=f.every(T=>!T);g<u;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?m=f.splice(g,f.length):(m=f,f=[0]);let y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(Ki(t,r)),m.length&&(a+=Ki(t,i)+m.join("")),v&&(a+=Ki(t,Xt.Exponential)+"+"+v)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function _w(n,e,t){let r=yw(e,sp.Decimal),i=DM(r,Ki(e,Xt.MinusSign));return EM(n,i,e,Xt.Group,Xt.Decimal,t)}function DM(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(wM),i=r[0],o=r[1],s=i.indexOf(Cl)!==-1?i.split(Cl):[i.substring(0,i.lastIndexOf(Cs)+1),i.substring(i.lastIndexOf(Cs)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(rp));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===Cs?t.minFrac=t.maxFrac=u+1:d===rp?t.maxFrac=u+1:t.posSuf+=d}let l=a.split(bM);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(rp);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function CM(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function IM(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Cl))>-1&&(e=e.replace(Cl,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Cs;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Cs;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>vw&&(r=r.splice(0,vw-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function SM(n,e,t){if(e>t)throw new C(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,u=r.reduceRight(function(d,h,f,g){return h=h+d,g[f]=h<10?h:h-10,c&&(g[f]===0&&f>=l?g.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function ip(n){let e=parseInt(n);if(isNaN(e))throw new C(2305,!1);return e}function ww(n,e){return new C(2100,!1)}var TM=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ap=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw ww(n,t);return t.replace(TM,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=hl({name:"titlecase",type:n,pure:!0})}return n})();var cp=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!MM(t))return null;i||=this._locale;try{let o=AM(t);return _w(o,i,r)}catch(o){throw ww(n,o.message)}}static \u0275fac=function(r){return new(r||n)(z(_s,16))};static \u0275pipe=hl({name:"number",type:n,pure:!0})}return n})();function MM(n){return!(n==null||n===""||n!==n)}function AM(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new C(2309,!1);return n}var en=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=gt({})}return n})();function Is(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Br=class{};var bw="browser";var Ew=(()=>{class n{static \u0275prov=M({token:n,providedIn:"root",factory:()=>new lp(_(ae),window)})}return n})(),lp=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo($(w({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=RM(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn($t(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo($(w({},t),{left:i-s[0],top:o-s[1]}))}};function RM(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ss=class{_doc;constructor(e){this._doc=e}manager},Il=(()=>{class n extends Ss{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(O(ae))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Tl=new A(""),pp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Il));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Il);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(O(Tl),O(ue))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),up="ng-app-id";function Cw(n){for(let e of n)e.remove()}function Iw(n,e){let t=e.createElement("style");return t.textContent=n,t}function NM(n,e,t,r){let i=n.head?.querySelectorAll(`style[${up}="${e}"],link[${up}="${e}"]`);if(i)for(let o of i)o.removeAttribute(up),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fp(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,NM(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Iw);r?.forEach(i=>this.addUsage(i,this.external,fp))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Cw(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Cw(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Iw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,fp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(O(ae),O(tl),O(rl,8),O(us))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),dp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mp=/%COMP%/g;var Tw="%COMP%",OM=`_nghost-${Tw}`,kM=`_ngcontent-${Tw}`,PM=!0,FM=new A("",{providedIn:"root",factory:()=>PM});function LM(n){return kM.replace(mp,n)}function jM(n){return OM.replace(mp,n)}function Mw(n,e){return e.map(t=>t.replace(mp,n))}var vp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ts(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Sl?i.applyToHost(t):i instanceof Ms&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new Sl(c,l,r,this.appId,u,s,a,d,h);break;case bn.ShadowDom:return new hp(c,l,t,r,s,a,this.nonce,d,h);default:o=new Ms(c,l,r,u,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(O(pp),O(gp),O(tl),O(FM),O(ae),O(ue),O(rl),O(jr,8))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Ts=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Sw(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Sw(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dp[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(t,r,i&Zt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=bt().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Sw(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hp=class extends Ts{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Mw(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=fp(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ms=class extends Ts{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Mw(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Rr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sl=class extends Ms{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,l,u),this.contentAttr=LM(u),this.hostAttr=jM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ml=class n extends Es{supportsDOMEvents=!0;static makeCurrent(){tp(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=VM();return t==null?null:UM(t)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Is(document.cookie,e)}},As=null;function VM(){return As=As||document.head.querySelector("base"),As?As.getAttribute("href"):null}function UM(n){return new URL(n,document.baseURI).pathname}var BM=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Aw=["alt","control","meta","shift"],$M={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xw=(()=>{class n extends Ss{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Aw.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$M[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Aw.forEach(s=>{if(s!==i){let a=HM[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(O(ae))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();function yp(n,e,t){let r=w({rootComponent:n,platformRef:t?.platformRef},zM(e));return dw(r)}function zM(n){return{appProviders:[...ZM,...n?.providers??[]],platformProviders:KM}}function GM(){Ml.makeCurrent()}function qM(){return new pt}function WM(){return _h(document),document}var KM=[{provide:us,useValue:bw},{provide:nl,useValue:GM,multi:!0},{provide:ae,useFactory:WM}];var ZM=[{provide:zo,useValue:"root"},{provide:pt,useFactory:qM},{provide:Tl,useClass:Il,multi:!0,deps:[ae]},{provide:Tl,useClass:xw,multi:!0,deps:[ae]},vp,gp,pp,{provide:Or,useExisting:vp},{provide:Br,useClass:BM},[]];var Yi=class{},xs=class{},Zn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xl=class{encodeKey(e){return Rw(e)}encodeValue(e){return Rw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JM(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var YM=/%(\d[a-f0-9])/gi,QM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rw(n){return encodeURIComponent(n).replace(YM,(e,t)=>QM[t]??e)}function Al(n){return`${n}`}var In=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new xl,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=JM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Al):[Al(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Al(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Al(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rl=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Nw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ow(n){return typeof Blob<"u"&&n instanceof Blob}function kw(n){return typeof FormData<"u"&&n instanceof FormData}function eA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Pw="Content-Type",Fw="Accept",Lw="X-Request-URL",jw="text/plain",Vw="application/json",tA=`${Vw}, ${jw}, */*`,Zi=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(XM(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new C(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Zn,this.context??=new Rl,!this.params)this.params=new In,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Nw(this.body)||Ow(this.body)||kw(this.body)||eA(this.body)?this.body:this.body instanceof In?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kw(this.body)?null:Ow(this.body)?this.body.type||null:Nw(this.body)?null:typeof this.body=="string"?jw:this.body instanceof In?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Vw:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.transferCache??this.transferCache,g=e.timeout??this.timeout,v=e.body!==void 0?e.body:this.body,m=e.withCredentials??this.withCredentials,y=e.reportProgress??this.reportProgress,T=e.headers||this.headers,S=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(T=Object.keys(e.setHeaders).reduce((H,Me)=>H.set(Me,e.setHeaders[Me]),T)),e.setParams&&(S=Object.keys(e.setParams).reduce((H,Me)=>H.set(Me,e.setParams[Me]),S)),new n(t,r,v,{params:S,headers:T,context:E,reportProgress:y,responseType:i,withCredentials:m,transferCache:f,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h})}},$r=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})($r||{}),Qi=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Zn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Nl=class n extends Qi{constructor(e={}){super(e)}type=$r.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rs=class n extends Qi{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=$r.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Ji=class extends Qi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},nA=200,rA=204;function _p(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var kl=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Zi)o=t;else{let c;i.headers instanceof Zn?c=i.headers:c=new Zn(i.headers);let l;i.params&&(i.params instanceof In?l=i.params:l=new In({fromObject:i.params})),o=new Zi(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=k(o).pipe(Bt(c=>this.handler.handle(c)));if(t instanceof Zi||i.observe==="events")return s;let a=s.pipe(qe(c=>c instanceof Rs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new In().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_p(i,r))}post(t,r,i={}){return this.request("POST",t,_p(i,r))}put(t,r,i={}){return this.request("PUT",t,_p(i,r))}static \u0275fac=function(r){return new(r||n)(O(Yi))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();var iA=new A("");function oA(n,e){return e(n)}function sA(n,e,t){return(r,i)=>Re(t,()=>e(r,o=>n(o,i)))}var Uw=new A(""),Bw=new A(""),$w=new A("",{providedIn:"root",factory:()=>!0});var Ol=(()=>{class n extends Yi{backend;injector;chain=null;pendingTasks=_(Qo);contributeToStability=_($w);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Uw),...this.injector.get(Bw,[])]));this.chain=r.reduceRight((i,o)=>sA(i,o,this.injector),oA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(pr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(O(xs),O(fe))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();var aA=/^\)\]\}',?\n/,cA=RegExp(`^${Lw}:`,"m");function lA(n){return"responseURL"in n&&n.responseURL?n.responseURL:cA.test(n.getAllResponseHeaders())?n.getResponseHeader(Lw):null}var wp=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return k(null).pipe(Pe(()=>new G(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),t.headers.has(Fw)||s.setRequestHeader(Fw,tA),!t.headers.has(Pw)){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader(Pw,m)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",y=new Zn(s.getAllResponseHeaders()),T=lA(s)||t.url;return c=new Nl({headers:y,status:s.status,statusText:m,url:T}),c},u=()=>{let{headers:m,status:y,statusText:T,url:S}=l(),E=null;y!==rA&&(E=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=E?nA:0);let H=y>=200&&y<300;if(t.responseType==="json"&&typeof E=="string"){let Me=E;E=E.replace(aA,"");try{E=E!==""?JSON.parse(E):null}catch(ee){E=Me,H&&(H=!1,E={error:ee,text:E})}}H?(o.next(new Rs({body:E,headers:m,status:y,statusText:T,url:S||void 0})),o.complete()):o.error(new Ji({error:E,headers:m,status:y,statusText:T,url:S||void 0}))},d=m=>{let{url:y}=l(),T=new Ji({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(T)},h=d;t.timeout&&(h=m=>{let{url:y}=l(),T=new Ji({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(T)});let f=!1,g=m=>{f||(o.next(l()),f=!0);let y={type:$r.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},v=m=>{let y={type:$r.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:$r.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(O(Br))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),Hw=new A(""),uA="XSRF-TOKEN",dA=new A("",{providedIn:"root",factory:()=>uA}),fA="X-XSRF-TOKEN",hA=new A("",{providedIn:"root",factory:()=>fA}),Ns=class{},pA=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Is(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(O(ae),O(dA))};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();function gA(n,e){let t=n.url.toLowerCase();if(!_(Hw)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Ns).getToken(),i=_(hA);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function bp(...n){let e=[kl,wp,Ol,{provide:Yi,useExisting:Ol},{provide:xs,useFactory:()=>_(iA,{optional:!0})??_(wp)},{provide:Uw,useValue:gA,multi:!0},{provide:Hw,useValue:!0},{provide:Ns,useClass:pA}];for(let t of n)e.push(...t.\u0275providers);return Ht(e)}var zw=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(O(ae))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U="primary",Gs=Symbol("RouteTitle"),Sp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gr(n){return new Sp(n)}function Qw(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tn(n[t],e[t]))return!1;return!0}function tn(n,e){let t=n?Tp(n):void 0,r=e?Tp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Xw(n[i],e[i]))return!1;return!0}function Tp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function eb(n){return n.length>0?n[n.length-1]:null}function Sn(n){return Md(n)?n:Gn(n)?ne(Promise.resolve(n)):k(n)}var _A={exact:nb,subset:rb},tb={exact:wA,subset:bA,ignored:()=>!0};function Gw(n,e,t){return _A[t.paths](n.root,e.root,t.matrixParams)&&tb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function wA(n,e){return tn(n,e)}function nb(n,e,t){if(!Hr(n.segments,e.segments)||!Ll(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nb(n.children[r],e.children[r],t))return!1;return!0}function bA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xw(n[t],e[t]))}function rb(n,e,t){return ib(n,e,e.segments,t)}function ib(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Hr(i,t)||e.hasChildren()||!Ll(i,t,r))}else if(n.segments.length===t.length){if(!Hr(n.segments,t)||!Ll(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Hr(n.segments,i)||!Ll(n.segments,i,r)||!n.children[U]?!1:ib(n.children[U],e,o,r)}}function Ll(n,e,t){return e.every((r,i)=>tb[t](n[i].parameters,r.parameters))}var rn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Y([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){return CA.serialize(this)}},Y=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}},Jn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gr(this.parameters),this._parameterMap}toString(){return sb(this)}};function EA(n,e){return Hr(n,e)&&n.every((t,r)=>tn(t.parameters,e[r].parameters))}function Hr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function DA(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===U&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==U&&(t=t.concat(e(i,r)))}),t}var qr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>new Yn,providedIn:"root"})}return n})(),Yn=class{parse(e){let t=new Ap(e);return new rn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Os(e.root,!0)}`,r=TA(e.queryParams),i=typeof e.fragment=="string"?`#${IA(e.fragment)}`:"";return`${t}${r}${i}`}},CA=new Yn;function jl(n){return n.segments.map(e=>sb(e)).join("/")}function Os(n,e){if(!n.hasChildren())return jl(n);if(e){let t=n.children[U]?Os(n.children[U],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${Os(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=DA(n,(r,i)=>i===U?[Os(n.children[U],!1)]:[`${i}:${Os(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[U]!=null?`${jl(n)}/${t[0]}`:`${jl(n)}/(${t.join("//")})`}}function ob(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pl(n){return ob(n).replace(/%3B/gi,";")}function IA(n){return encodeURI(n)}function Mp(n){return ob(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vl(n){return decodeURIComponent(n)}function qw(n){return Vl(n.replace(/\+/g,"%20"))}function sb(n){return`${Mp(n.path)}${SA(n.parameters)}`}function SA(n){return Object.entries(n).map(([e,t])=>`;${Mp(e)}=${Mp(t)}`).join("")}function TA(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pl(t)}=${Pl(i)}`).join("&"):`${Pl(t)}=${Pl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var MA=/^[^\/()?;#]+/;function Ep(n){let e=n.match(MA);return e?e[0]:""}var AA=/^[^\/()?;=#]+/;function xA(n){let e=n.match(AA);return e?e[0]:""}var RA=/^[^=?&#]+/;function NA(n){let e=n.match(RA);return e?e[0]:""}var OA=/^[^&#]+/;function kA(n){let e=n.match(OA);return e?e[0]:""}var Ap=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[U]=new Y(e,t)),r}parseSegment(){let e=Ep(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Jn(Vl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ep(this.remaining);i&&(r=i,this.capture(r))}e[Vl(t)]=Vl(r)}parseQueryParam(e){let t=NA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=kA(this.remaining);s&&(r=s,this.capture(r))}let i=qw(t),o=qw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ep(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();t[o??U]=Object.keys(s).length===1&&s[U]?s[U]:new Y([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function ab(n){return n.segments.length>0?new Y([],{[U]:n}):n}function cb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=cb(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Y(n.segments,e);return PA(t)}function PA(n){if(n.numberOfChildren===1&&n.children[U]){let e=n.children[U];return new Y(n.segments.concat(e.segments),e.children)}return n}function Qn(n){return n instanceof rn}function lb(n,e,t=null,r=null){let i=ub(n);return db(i,e,t,r)}function ub(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ab(r);return e??i}function db(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Dp(i,i,i,t,r);let o=FA(e);if(o.toRoot())return Dp(i,i,new Y([],{}),t,r);let s=LA(o,i,n),a=s.processChildren?Ps(s.segmentGroup,s.index,o.commands):hb(s.segmentGroup,s.index,o.commands);return Dp(i,s.segmentGroup,a,t,r)}function Ul(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ls(n){return typeof n=="object"&&n!=null&&n.outlets}function Dp(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=fb(n,e,t);let a=ab(cb(s));return new rn(a,o,i)}function fb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=fb(o,e,t)}),new Y(n.segments,r)}var Bl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ul(r[0]))throw new C(4003,!1);let i=r.find(Ls);if(i&&i!==eb(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FA(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bl(t,e,r)}var to=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function LA(n,e,t){if(n.isAbsolute)return new to(e,!0,0);if(!t)return new to(e,!1,NaN);if(t.parent===null)return new to(t,!0,0);let r=Ul(n.commands[0])?0:1,i=t.segments.length-1+r;return jA(t,i,n.numberOfDoubleDots)}function jA(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new to(r,!1,i-o)}function VA(n){return Ls(n[0])?n[0].outlets:{[U]:n}}function hb(n,e,t){if(n??=new Y([],{}),n.segments.length===0&&n.hasChildren())return Ps(n,e,t);let r=UA(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Y(n.segments.slice(0,r.pathIndex),{});return o.children[U]=new Y(n.segments.slice(r.pathIndex),n.children),Ps(o,0,i)}else return r.match&&i.length===0?new Y(n.segments,{}):r.match&&!n.hasChildren()?xp(n,e,t):r.match?Ps(n,0,i):xp(n,e,t)}function Ps(n,e,t){if(t.length===0)return new Y(n.segments,{});{let r=VA(t),i={};if(Object.keys(r).some(o=>o!==U)&&n.children[U]&&n.numberOfChildren===1&&n.children[U].segments.length===0){let o=Ps(n.children[U],e,t);return new Y(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(n.segments,i)}}function UA(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ls(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Kw(c,l,s))return o;r+=2}else{if(!Kw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xp(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ls(o)){let c=BA(o.outlets);return new Y(r,c)}if(i===0&&Ul(t[0])){let c=n.segments[e];r.push(new Jn(c.path,Ww(t[0]))),i++;continue}let s=Ls(o)?o.outlets[U]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ul(a)?(r.push(new Jn(s,Ww(a))),i+=2):(r.push(new Jn(s,{})),i++)}return new Y(r,{})}function BA(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=xp(new Y([],{}),0,r))}),e}function Ww(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Kw(n,e,t){return n==t.path&&tn(e,t.parameters)}var no="imperative",Ie=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ie||{}),ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},Xn=class extends ht{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Et=class extends ht{urlAfterRedirects;type=Ie.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},et=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(et||{}),io=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(io||{}),nn=class extends ht{reason;code;type=Ie.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},on=class extends ht{reason;code;type=Ie.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},oo=class extends ht{error;target;type=Ie.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},js=class extends ht{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$l=class extends ht{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends ht{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zl=class extends ht{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gl=class extends ht{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ql=class{route;type=Ie.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wl=class{route;type=Ie.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kl=class{snapshot;type=Ie.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zl=class{snapshot;type=Ie.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jl=class{snapshot;type=Ie.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yl=class{snapshot;type=Ie.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},so=class{routerEvent;position;anchor;type=Ie.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vs=class{},ao=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function $A(n){return!(n instanceof Vs)&&!(n instanceof ao)}function HA(n,e){return n.providers&&!n._injector&&(n._injector=Bi(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jt(n){return n.outlet||U}function zA(n,e){let t=n.filter(r=>jt(r)===e);return t.push(...n.filter(r=>jt(r)!==e)),t}function uo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ql=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wr(this.rootInjector)}},Wr=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ql(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(O(fe))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Np(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Np(e,this._root).map(t=>t.value)}};function Rp(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rp(n,t);if(r)return r}return null}function Np(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Np(n,t);if(r.length)return r.unshift(e),r}return[]}var ft=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function eo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Us=class extends Xl{snapshot;constructor(e,t){super(e),this.snapshot=t,Up(this,e)}toString(){return this.snapshot.toString()}};function pb(n){let e=GA(n),t=new ke([new Jn("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new Dt(t,r,o,s,i,U,n,e.root);return a.snapshot=e.root,new Us(new ft(a,[]),e)}function GA(n){let e={},t={},r={},o=new zr([],e,r,"",t,U,n,null,{});return new Bs("",new ft(o,[]))}var Dt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Gs]))??k(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Gr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Gr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eu(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),n.params),data:w(w({},e.data),n.data),resolve:w(w(w(w({},n.data),e.data),i?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},i&&mb(i)&&(r.resolve[Gs]=i.title),r}var zr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Gs]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Bs=class extends Xl{url;constructor(e,t){super(t),this.url=e,Up(this,t)}toString(){return gb(this._root)}};function Up(n,e){e.value._routerState=n,e.children.forEach(t=>Up(n,t))}function gb(n){let e=n.children.length>0?` { ${n.children.map(gb).join(", ")} } `:"";return`${n.value}${e}`}function Cp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),tn(e.params,t.params)||n.paramsSubject.next(t.params),yA(e.url,t.url)||n.urlSubject.next(t.url),tn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Op(n,e){let t=tn(n.params,e.params)&&EA(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Op(n.parent,e.parent))}function mb(n){return typeof n.title=="string"||n.title===null}var vb=new A(""),qs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=uw();parentContexts=_(Wr);location=_(hs);changeDetector=_(Ur);inputBinder=_(Ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kp(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Le({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[En]})}return n})(),kp=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Dt?this.route:e===Wr?this.childContexts:e===vb?this.outletData:this.parent.get(e,t)}},Ws=new A(""),Bp=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Po([r.queryParams,r.params,r.data]).pipe(Pe(([o,s,a],c)=>(a=w(w(w({},o),s),a),c===0?k(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=fw(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})(),$p=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=kt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&be(0,"router-outlet")},dependencies:[qs],encapsulation:2})}return n})();function Hp(n){let e=n.children&&n.children.map(Hp),t=e?$(w({},n),{children:e}):w({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==U&&(t.component=$p),t}function qA(n,e,t){let r=$s(n,e._root,t?t._root:void 0);return new Us(r,e)}function $s(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=WA(n,e,t);return new ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$s(n,a)),s}}let r=KA(e.value),i=e.children.map(o=>$s(n,o));return new ft(r,i)}}function WA(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $s(n,r,i);return $s(n,r)})}function KA(n){return new Dt(new ke(n.url),new ke(n.params),new ke(n.queryParams),new ke(n.fragment),new ke(n.data),n.outlet,n.component,n)}var co=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},yb="ngNavigationCancelingError";function tu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_b(!1,et.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _b(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[yb]=!0,t.cancellationCode=e,t}function ZA(n){return wb(n)&&Qn(n.url)}function wb(n){return!!n&&n[yb]}var JA=(n,e,t,r)=>L(i=>(new Pp(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=eo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=eo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Cp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ro=class{component;route;constructor(e,t){this.component=e,this.route=t}};function YA(n,e,t){let r=n._root,i=e?e._root:null;return ks(r,i,t,[r.value])}function QA(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!qd(n)?n:e.get(n):r}function ks(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=eo(e);return n.children.forEach(s=>{XA(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fs(a,t.getContext(s),i)),i}function XA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=ex(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ks(n,e,a?a.children:null,r,i):ks(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ro(a.outlet.component,s))}else s&&Fs(e,a,i),i.canActivateChecks.push(new nu(r)),o.component?ks(n,null,a?a.children:null,r,i):ks(n,null,t,r,i);return i}function ex(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Hr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hr(n.url,e.url)||!tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(n,e)||!tn(n.queryParams,e.queryParams);case"paramsChange":default:return!Op(n,e)}}function Fs(n,e,t){let r=eo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fs(s,e.children.getContext(o),t):Fs(s,null,t):Fs(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ro(e.outlet.component,i)):t.canDeactivateChecks.push(new ro(null,i)):t.canDeactivateChecks.push(new ro(null,i))}function Ks(n){return typeof n=="function"}function tx(n){return typeof n=="boolean"}function nx(n){return n&&Ks(n.canLoad)}function rx(n){return n&&Ks(n.canActivate)}function ix(n){return n&&Ks(n.canActivateChild)}function ox(n){return n&&Ks(n.canDeactivate)}function sx(n){return n&&Ks(n.canMatch)}function bb(n){return n instanceof Tt||n?.name==="EmptyError"}var Fl=Symbol("INITIAL_VALUE");function lo(){return Pe(n=>Po(n.map(e=>e.pipe(dn(1),Od(Fl)))).pipe(L(e=>{for(let t of e)if(t!==!0){if(t===Fl)return Fl;if(t===!1||ax(t))return t}return!0}),qe(e=>e!==Fl),dn(1)))}function ax(n){return Qn(n)||n instanceof co}function cx(n,e){return de(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?k($(w({},t),{guardsResult:!0})):lx(s,r,i,n).pipe(de(a=>a&&tx(a)?ux(r,o,n,e):k(a)),L(a=>$(w({},t),{guardsResult:a})))})}function lx(n,e,t,r){return ne(n).pipe(de(i=>gx(i.component,i.route,t,e,r)),fn(i=>i!==!0,!0))}function ux(n,e,t,r){return ne(e).pipe(Bt(i=>Ci(fx(i.route.parent,r),dx(i.route,r),px(n,i.path,t),hx(n,i.route,t))),fn(i=>i!==!0,!0))}function dx(n,e){return n!==null&&e&&e(new Jl(n)),k(!0)}function fx(n,e){return n!==null&&e&&e(new Kl(n)),k(!0)}function hx(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(o=>Fo(()=>{let s=uo(e)??t,a=fo(o,s),c=rx(a)?a.canActivate(e,n):Re(s,()=>a(e,n));return Sn(c).pipe(fn())}));return k(i).pipe(lo())}function px(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>QA(s)).filter(s=>s!==null).map(s=>Fo(()=>{let a=s.guards.map(c=>{let l=uo(s.node)??t,u=fo(c,l),d=ix(u)?u.canActivateChild(r,n):Re(l,()=>u(r,n));return Sn(d).pipe(fn())});return k(a).pipe(lo())}));return k(o).pipe(lo())}function gx(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let c=uo(e)??i,l=fo(a,c),u=ox(l)?l.canDeactivate(n,e,t,r):Re(c,()=>l(n,e,t,r));return Sn(u).pipe(fn())});return k(s).pipe(lo())}function mx(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=fo(s,n),c=nx(a)?a.canLoad(e,t):Re(n,()=>a(e,t));return Sn(c)});return k(o).pipe(lo(),Eb(r))}function Eb(n){return bd(Ae(e=>{if(typeof e!="boolean")throw tu(n,e)}),L(e=>e===!0))}function vx(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=fo(s,n),c=sx(a)?a.canMatch(e,t):Re(n,()=>a(e,t));return Sn(c)});return k(o).pipe(lo(),Eb(r))}var Hs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},zs=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Xi(n){return Ei(new Hs(n))}function yx(n){return Ei(new C(4e3,!1))}function _x(n){return Ei(_b(!1,et.GuardRejected))}var Fp=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[U])return yx(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,t,r,i,o){return wx(t,i,o).pipe(L(s=>{if(s instanceof rn)throw new zs(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new zs(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new rn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Y(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function wx(n,e,t){if(typeof n=="string")return k(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=e;return Sn(Re(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var Lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bx(n,e,t,r,i){let o=Db(n,e,t);return o.matched?(r=HA(e,r),vx(r,e,t,i).pipe(L(s=>s===!0?o:w({},Lp)))):k(o)}function Db(n,e,t){if(e.path==="**")return Ex(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?w({},Lp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Qw)(t,n,e);if(!i)return w({},Lp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ex(n){return{matched:!0,parameters:n.length>0?eb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Zw(n,e,t,r){return t.length>0&&Ix(n,t,r)?{segmentGroup:new Y(e,Cx(r,new Y(t,n.children))),slicedSegments:[]}:t.length===0&&Sx(n,t,r)?{segmentGroup:new Y(n.segments,Dx(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Y(n.segments,n.children),slicedSegments:t}}function Dx(n,e,t,r){let i={};for(let o of t)if(iu(n,e,o)&&!r[jt(o)]){let s=new Y([],{});i[jt(o)]=s}return w(w({},r),i)}function Cx(n,e){let t={};t[U]=e;for(let r of n)if(r.path===""&&jt(r)!==U){let i=new Y([],{});t[jt(r)]=i}return t}function Ix(n,e,t){return t.some(r=>iu(n,e,r)&&jt(r)!==U)}function Sx(n,e,t){return t.some(r=>iu(n,e,r))}function iu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Tx(n,e,t){return e.length===0&&!n.children[t]}var jp=class{};function Mx(n,e,t,r,i,o,s="emptyOnly"){return new Vp(n,e,t,r,i,s,o).recognize()}var Ax=31,Vp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fp(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:t,rootSnapshot:r})=>{let i=new ft(r,t),o=new Bs("",i),s=lb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new zr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,t).pipe(L(r=>({children:r,rootSnapshot:t})),it(r=>{if(r instanceof zs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(L(s=>s instanceof ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ne(o).pipe(Bt(s=>{let a=r.children[s],c=zA(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Nd((s,a)=>(s.push(...a),s)),kn(null),Rd(),de(s=>{if(s===null)return Xi(r);let a=Cb(s);return xx(a),k(a)}))}processSegment(e,t,r,i,o,s,a){return ne(t).pipe(Bt(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(it(l=>{if(l instanceof Hs)return k(null);throw l}))),fn(c=>!!c),it(c=>{if(bb(c))return Tx(r,i,o)?k(new jp):Xi(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return jt(r)!==s&&(s===U||!iu(i,o,r))?Xi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Xi(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Db(t,i,o);if(!c)return Xi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ax&&(this.allowRedirects=!1));let f=new zr(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Jw(i),jt(i),i.component??i._loadedComponent??null,i,Yw(i)),g=eu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e).pipe(Pe(m=>this.applyRedirects.lineralizeSegments(i,m)),de(m=>this.processSegment(e,r,t,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=bx(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Pe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pe(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new zr(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Jw(r),jt(r),r.component??r._loadedComponent??null,r,Yw(r)),v=eu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:m,slicedSegments:y}=Zw(t,h,f,l);if(y.length===0&&m.hasChildren())return this.processChildren(u,l,m,g).pipe(L(S=>new ft(g,S)));if(l.length===0&&y.length===0)return k(new ft(g,[]));let T=jt(r)===o;return this.processSegment(u,l,m,y,T?U:o,!0,g).pipe(L(S=>new ft(g,S instanceof ft?[S]:[])))}))):Xi(t)))}getChildConfig(e,t,r){return t.children?k({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?k({routes:t._loadedRoutes,injector:t._loadedInjector}):mx(e,t,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(e,t).pipe(Ae(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):_x(t))):k({routes:[],injector:e})}};function xx(n){n.sort((e,t)=>e.value.outlet===U?-1:t.value.outlet===U?1:e.value.outlet.localeCompare(t.value.outlet))}function Rx(n){let e=n.value.routeConfig;return e&&e.path===""}function Cb(n){let e=[],t=new Set;for(let r of n){if(!Rx(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Cb(r.children);e.push(new ft(r.value,i))}return e.filter(r=>!t.has(r))}function Jw(n){return n.data||{}}function Yw(n){return n.resolve||{}}function Nx(n,e,t,r,i,o){return de(s=>Mx(n,e,t,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>$(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Ox(n,e){return de(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return k(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Ib(c))s.add(l);let a=0;return ne(s).pipe(Bt(c=>o.has(c)?kx(c,r,n,e):(c.data=eu(c,c.parent,n).resolve,k(void 0))),Ae(()=>a++),Ii(1),de(c=>a===s.size?k(t):nt))})}function Ib(n){let e=n.children.map(t=>Ib(t)).flat();return[n,...e]}function kx(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!mb(i)&&(o[Gs]=i.title),Fo(()=>(n.data=eu(n,n.parent,t).resolve,Px(o,n,e,r).pipe(L(s=>(n._resolvedData=s,n.data=w(w({},n.data),s),null)))))}function Px(n,e,t,r){let i=Tp(n);if(i.length===0)return k({});let o={};return ne(i).pipe(de(s=>Fx(n[s],e,t,r).pipe(fn(),Ae(a=>{if(a instanceof co)throw tu(new Yn,a);o[s]=a}))),Ii(1),L(()=>o),it(s=>bb(s)?nt:Ei(s)))}function Fx(n,e,t,r){let i=uo(e)??r,o=fo(n,i),s=o.resolve?o.resolve(e,t):Re(i,()=>o(e,t));return Sn(s)}function Ip(n){return Pe(e=>{let t=n(e);return t?ne(t).pipe(L(()=>e)):k(e)})}var zp=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(t){return t.data[Gs]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_(Sb),providedIn:"root"})}return n})(),Sb=(()=>{class n extends zp{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(O(zw))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),er=new A("",{providedIn:"root",factory:()=>({})}),Kr=new A(""),ou=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Zh);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sn(Re(t,()=>r.loadComponent())).pipe(L(Mb),Pe(Ab),Ae(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),pr(()=>{this.componentLoaders.delete(r)})),o=new bi(i,()=>new ye).pipe(wi());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Tb(r,this.compiler,t,this.onLoadEndListener).pipe(pr(()=>{this.childrenLoaders.delete(r)})),s=new bi(o,()=>new ye).pipe(wi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tb(n,e,t,r){return Sn(Re(t,()=>n.loadChildren())).pipe(L(Mb),Pe(Ab),de(i=>i instanceof fl||Array.isArray(i)?k(i):ne(e.compileModuleAsync(i))),L(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Kr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hp),injector:o}}))}function Lx(n){return n&&typeof n=="object"&&"default"in n}function Mb(n){return Lx(n)?n.default:n}function Ab(n){return k(n)}var su=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_(jx),providedIn:"root"})}return n})(),jx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gp=new A(""),qp=new A("");function xb(n,e,t){let r=n.get(qp),i=n.get(ae);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),Vx(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&Re(n,()=>c({transition:a,from:e,to:t})),s}function Vx(n){return new Promise(e=>{al({read:()=>setTimeout(e)},{injector:n})})}var Wp=new A(""),au=(()=>{class n{currentNavigation=W(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ye;transitionAbortWithErrorSubject=new ye;configLoader=_(ou);environmentInjector=_(fe);destroyRef=_(dt);urlSerializer=_(qr);rootContexts=_(Wr);location=_(Kn);inputBindingEnabled=_(Ws,{optional:!0})!==null;titleStrategy=_(zp);options=_(er,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(su);createViewTransition=_(Gp,{optional:!0});navigationErrorHandler=_(Wp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>k(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ql(i)),r=i=>this.events.next(new Wl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Oe(()=>{this.transitions?.next($(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new ke(null),this.transitions.pipe(qe(r=>r!==null),Pe(r=>{let i=!1;return k(r).pipe(Pe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",et.SupersededByNewNavigation),nt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new on(o.id,this.urlSerializer.serialize(o.rawUrl),"",io.IgnoredSameUrlNavigation)),o.resolve(!1),nt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return k(o).pipe(Pe(c=>(this.events.next(new Xn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?nt:Promise.resolve(c))),Nx(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new js(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:h}=o,f=new Xn(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let g=pb(this.rootComponentType).snapshot;return this.currentTransition=r=$(w({},o),{targetSnapshot:g,urlAfterRedirects:l,extras:$(w({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=l,v)),k(r)}else return this.events.next(new on(o.id,this.urlSerializer.serialize(o.extractedUrl),"",io.IgnoredByUrlHandlingStrategy)),o.resolve(!1),nt}),Ae(o=>{let s=new $l(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),L(o=>(this.currentTransition=r=$(w({},o),{guards:YA(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),cx(this.environmentInjector,o=>this.events.next(o)),Ae(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw tu(this.urlSerializer,o.guardsResult);let s=new Hl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",et.GuardRejected),!1)),Ip(o=>{if(o.guards.canActivateChecks.length!==0)return k(o).pipe(Ae(s=>{let a=new zl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Pe(s=>{let a=!1;return k(s).pipe(Ox(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",et.NoDataFromResolver)}}))}),Ae(s=>{let a=new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Ip(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=uo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ae(u=>{a.component=u}),L(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Po(s(o.targetSnapshot.root)).pipe(kn(null),dn(1))}),Ip(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ne(a).pipe(L(()=>r)):k(r)}),L(o=>{let s=qA(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=$(w({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ae(()=>{this.events.next(new Vs)}),JA(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),dn(1),cc(new G(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!i&&!r.targetRouterState),Ae(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",et.Aborted)}))),Ae({next:o=>{i=!0,this.lastSuccessfulNavigation=Oe(this.currentNavigation),this.events.next(new Et(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),cc(this.transitionAbortWithErrorSubject.pipe(Ae(o=>{throw o}))),pr(()=>{i||this.cancelNavigationTransition(r,"",et.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),it(o=>{if(this.destroyed)return r.resolve(!1),nt;if(i=!0,wb(o))this.events.next(new nn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),ZA(o)?this.events.next(new ao(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Re(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof co){let{message:c,cancellationCode:l}=tu(this.urlSerializer,a);this.events.next(new nn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new ao(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return nt}))}))}cancelNavigationTransition(t,r,i){let o=new nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Oe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ux(n){return n!==no}var Rb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_(Bx),providedIn:"root"})}return n})(),ru=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Bx=(()=>{class n extends ru{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lr(n)))(i||n)}})();static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nb=(()=>{class n{urlSerializer=_(qr);options=_(er,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(Kn);urlHandlingStrategy=_(su);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=pb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:()=>_($x),providedIn:"root"})}return n})(),$x=(()=>{class n extends Nb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Xn?this.updateStateMemento():t instanceof on?this.commitTransition(r):t instanceof js?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof nn&&t.code!==et.SupersededByNewNavigation&&t.code!==et.Redirect?this.restoreHistory(r):t instanceof oo?this.restoreHistory(r,!0):t instanceof Et&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lr(n)))(i||n)}})();static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cu(n,e){n.events.pipe(qe(t=>t instanceof Et||t instanceof nn||t instanceof oo||t instanceof on),L(t=>t instanceof Et||t instanceof on?0:(t instanceof nn?t.code===et.Redirect||t.code===et.SupersededByNewNavigation:!1)?2:1),qe(t=>t!==2),dn(1)).subscribe(()=>{e()})}var Hx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(Bh);stateManager=_(Nb);options=_(er,{optional:!0})||{};pendingTasks=_(Wt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(au);urlSerializer=_(qr);location=_(Kn);urlHandlingStrategy=_(su);injector=_(fe);_events=new ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Rb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Kr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Ws,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Oe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof nn&&r.code!==et.Redirect&&r.code!==et.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Et)this.navigated=!0;else if(r instanceof ao){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ux(i.source)},s);this.scheduleNavigation(a,no,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$A(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=w({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Xe)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Oe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Hp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=ub(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return db(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,no,null,r)}navigate(t,r={skipLocationChange:!1}){return Gx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn($t(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=w({},Hx):r===!1?i=w({},zx):i=r,Qn(t))return Gw(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Gw(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return cu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gx(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new C(4008,!1)}var ho=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=W(null);get href(){return Oe(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye;applicationErrorHandler=_(Xe);options=_(er,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(_(new _l("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Et&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Qn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(sn),z(Dt),ls("tabindex"),z(zn),z(Dn),z(Lt))};static \u0275dir=Le({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&$i("href",i.reactiveHref(),Dh)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wn],replaceUrl:[2,"replaceUrl","replaceUrl",Wn],routerLink:"routerLink"},features:[En]})}return n})();var Zs=class{};var Ob=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qe(t=>t instanceof Et),Bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Bi(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ne(i).pipe(Di())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=k(null);let o=i.pipe(de(s=>s===null?k(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return ne([o,s]).pipe(Di())}else return o})}static \u0275fac=function(r){return new(r||n)(O(sn),O(fe),O(Zs),O(ou))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kb=new A(""),qx=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=no;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Et?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof on&&t.code===io.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof so))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>p(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new so(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Uh()};static \u0275prov=M({token:n,factory:n.\u0275fac})}return n})();function Zp(n,...e){return Ht([{provide:Kr,multi:!0,useValue:n},[],{provide:Dt,useFactory:Pb,deps:[sn]},{provide:ps,multi:!0,useFactory:Fb},e.map(t=>t.\u0275providers)])}function Pb(n){return n.routerState.root}function Js(n,e){return{\u0275kind:n,\u0275providers:e}}function Fb(){let n=_(We);return e=>{let t=n.get(qn);if(e!==t.components[0])return;let r=n.get(sn),i=n.get(Lb);n.get(Jp)===1&&r.initialNavigation(),n.get(Ub,null,{optional:!0})?.setUpPreloading(),n.get(kb,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lb=new A("",{factory:()=>new ye}),Jp=new A("",{providedIn:"root",factory:()=>1});function jb(){let n=[{provide:wh,useValue:!0},{provide:Jp,useValue:0},pl(()=>{let e=_(We);return e.get(np,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(sn),o=e.get(Lb);cu(i,()=>{r(!0)}),e.get(au).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))})];return Js(2,n)}function Vb(){let n=[pl(()=>{_(sn).setUpLocationChangeListener()}),{provide:Jp,useValue:2}];return Js(3,n)}var Ub=new A("");function Bb(n){return Js(0,[{provide:Ub,useExisting:Ob},{provide:Zs,useExisting:n}])}function $b(){return Js(8,[Bp,{provide:Ws,useExisting:Bp}])}function Hb(n){Ot("NgRouterViewTransitions");let e=[{provide:Gp,useValue:xb},{provide:qp,useValue:w({skipNextTransition:!!n?.skipInitialTransition},n)}];return Js(9,e)}var zb=[Kn,{provide:qr,useClass:Yn},sn,Wr,{provide:Dt,useFactory:Pb,deps:[sn]},ou,[]],Ys=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[zb,[],{provide:Kr,multi:!0,useValue:t},[],r?.errorHandler?{provide:Wp,useValue:r.errorHandler}:[],{provide:er,useValue:r||{}},r?.useHash?Kx():Zx(),Wx(),r?.preloadingStrategy?Bb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Jx(r):[],r?.bindToComponentInputs?$b().\u0275providers:[],r?.enableViewTransitions?Hb().\u0275providers:[],Yx()]}}static forChild(t){return{ngModule:n,providers:[{provide:Kr,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=gt({})}return n})();function Wx(){return{provide:kb,useFactory:()=>{let n=_(Ew),e=_(ue),t=_(er),r=_(au),i=_(qr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new qx(i,r,n,e,t)}}}function Kx(){return{provide:Lt,useClass:op}}function Zx(){return{provide:Lt,useClass:Dl}}function Jx(n){return[n.initialNavigation==="disabled"?Vb().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jb().\u0275providers:[]]}var Kp=new A("");function Yx(){return[{provide:Kp,useFactory:Fb},{provide:ps,multi:!0,useExisting:Kp}]}var eE=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(zn),z(Dn))};static \u0275dir=Le({type:n})}return n})(),Qx=(()=>{class n extends eE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lr(n)))(i||n)}})();static \u0275dir=Le({type:n,features:[Qt]})}return n})(),tE=new A("");var Xx={provide:tE,useExisting:mn(()=>vu),multi:!0};function eR(){let n=bt()?bt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tR=new A(""),vu=(()=>{class n extends eE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eR())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(zn),z(Dn),z(tR,8))};static \u0275dir=Le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gi([Xx]),Qt]})}return n})();function nR(n){return n==null||rR(n)===0}function rR(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Xp=new A(""),nE=new A("");function iR(n){return nR(n.value)?{required:!0}:null}function qb(n){return null}function rE(n){return n!=null}function iE(n){return Gn(n)?ne(n):n}function oE(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function sE(n,e){return e.map(t=>t(n))}function oR(n){return!n.validate}function aE(n){return n.map(e=>oR(e)?e:t=>e.validate(t))}function sR(n){if(!n)return null;let e=n.filter(rE);return e.length==0?null:function(t){return oE(sE(t,e))}}function eg(n){return n!=null?sR(aE(n)):null}function aR(n){if(!n)return null;let e=n.filter(rE);return e.length==0?null:function(t){let r=sE(t,e).map(iE);return xd(r).pipe(L(oE))}}function tg(n){return n!=null?aR(aE(n)):null}function Wb(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cR(n){return n._rawValidators}function lR(n){return n._rawAsyncValidators}function Yp(n){return n?Array.isArray(n)?n:[n]:[]}function uu(n,e){return Array.isArray(n)?n.includes(e):n===e}function Kb(n,e){let t=Yp(e);return Yp(n).forEach(i=>{uu(t,i)||t.push(i)}),t}function Zb(n,e){return Yp(e).filter(t=>!uu(n,t))}var du=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},mo=class extends du{name;get formDirective(){return null}get path(){return null}},ra=class extends du{_parent=null;name=null;valueAccessor=null},fu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},n4=$(w({},uR),{"[class.ng-submitted]":"isSubmitted"}),cE=(()=>{class n extends fu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(ra,2))};static \u0275dir=Le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ue("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qt]})}return n})(),lE=(()=>{class n extends fu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(mo,10))};static \u0275dir=Le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ue("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Qt]})}return n})();var Qs="VALID",lu="INVALID",po="PENDING",Xs="DISABLED",tr=class{},hu=class extends tr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ta=class extends tr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},na=class extends tr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},go=class extends tr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Qp=class extends tr{source;constructor(e){super(),this.source=e}},pu=class extends tr{source;constructor(e){super(),this.source=e}};function uE(n){return(yu(n)?n.validators:n)||null}function dR(n){return Array.isArray(n)?eg(n):n||null}function dE(n,e){return(yu(e)?e.asyncValidators:n)||null}function fR(n){return Array.isArray(n)?tg(n):n||null}function yu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function hR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[t])throw new C(1001,"")}function pR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new C(1002,"")})}var gu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Oe(this.statusReactive)}set status(e){Oe(()=>this.statusReactive.set(e))}_status=wt(()=>this.statusReactive());statusReactive=W(void 0);get valid(){return this.status===Qs}get invalid(){return this.status===lu}get pending(){return this.status==po}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}errors;get pristine(){return Oe(this.pristineReactive)}set pristine(e){Oe(()=>this.pristineReactive.set(e))}_pristine=wt(()=>this.pristineReactive());pristineReactive=W(!0);get dirty(){return!this.pristine}get touched(){return Oe(this.touchedReactive)}set touched(e){Oe(()=>this.touchedReactive.set(e))}_touched=wt(()=>this.touchedReactive());touchedReactive=W(!1);get untouched(){return!this.touched}_events=new ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zb(e,this._rawAsyncValidators))}hasValidator(e){return uu(this._rawValidators,e)}hasAsyncValidator(e){return uu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new na(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new na(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ta(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ta(!0,r))}markAsPending(e={}){this.status=po;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new go(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(i=>{i.disable($(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hu(this.value,r)),this._events.next(new go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this._forEachChild(r=>{r.enable($(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===po)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hu(this.value,t)),this._events.next(new go(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=po,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=iE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new go(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?lu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(po)?po:this._anyControlsHaveStatus(lu)?lu:Qs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ta(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new na(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fR(this._rawAsyncValidators)}},mu=class extends gu{constructor(e,t,r){super(uE(t),dE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pR(this,!0,e),Object.keys(e).forEach(r=>{hR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new pu(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ng=new A("",{providedIn:"root",factory:()=>rg}),rg="always";function gR(n,e){return[...e.path,n]}function fE(n,e,t=rg){hE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),vR(n,e),_R(n,e),yR(n,e),mR(n,e)}function Jb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mR(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hE(n,e){let t=cR(n);e.validator!==null?n.setValidators(Wb(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lR(n);e.asyncValidator!==null?n.setAsyncValidators(Wb(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jb(e._rawValidators,i),Jb(e._rawAsyncValidators,i)}function vR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pE(n,e)})}function yR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pE(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _R(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wR(n,e){n==null,hE(n,e)}function bR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function ER(n){return Object.getPrototypeOf(n.constructor)===Qx}function DR(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===vu?t=o:ER(o)?r=o:i=o}),i||r||t||null}var IR={provide:mo,useExisting:mn(()=>ig)},ea=Promise.resolve(),ig=(()=>{class n extends mo{callSetDisabledState;get submitted(){return Oe(this.submittedReactive)}_submitted=wt(()=>this.submittedReactive());submittedReactive=W(!1);_directives=new Set;form;ngSubmit=new we;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new mu({},eg(t),tg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ea.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ea.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ea.then(()=>{let r=this._findContainer(t.path),i=new mu({});wR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ea.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ea.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),DR(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Qp(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(z(Xp,10),z(nE,10),z(ng,8))};static \u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gi([IR]),Qt]})}return n})();function Yb(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var SR=class extends gu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uE(t),dE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Qb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new pu(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Qb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var TR={provide:ra,useExisting:mn(()=>og)},Xb=Promise.resolve(),og=(()=>{class n extends ra{_changeDetectorRef;callSetDisabledState;control=new SR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),bR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Xb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Wn(r);Xb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gR(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(z(mo,9),z(Xp,10),z(nE,10),z(tE,10),z(Ur,8),z(ng,8))};static \u0275dir=Le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Gi([TR]),Qt,En]})}return n})();var gE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var MR=(()=>{class n{_validator=qb;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Le({type:n,features:[En]})}return n})();var AR={provide:Xp,useExisting:mn(()=>sg),multi:!0};var sg=(()=>{class n extends MR{required;inputName="required";normalizeInput=Wn;createValidator=t=>iR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lr(n)))(i||n)}})();static \u0275dir=Le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&$i("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Gi([AR]),Qt]})}return n})();var xR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=gt({})}return n})();var _u=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ng,useValue:t.callSetDisabledState??rg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=gt({imports:[xR]})}return n})();var vo=class n{constructor(e){this.http=e}pokemonGoData=[];jsonPath="/JSONs/pokemon.json";getAllPokemon(){return this.pokemonGoData.length>0?new G(e=>{e.next(this.pokemonGoData),e.complete()}):this.http.get(this.jsonPath).pipe(L(e=>{let t=e.map(r=>(typeof r.types=="string"&&(r.types=[r.types]),Array.isArray(r.types)||(r.types=[]),r));return this.pokemonGoData=t.sort((r,i)=>r.id-i.id),this.pokemonGoData}),it(e=>(console.error("Error loading Pokemon data from JSON:",e),console.error("Please run Scripts/fetch-pokemon-data.ps1 to generate the JSON file"),k([]))))}groupByFamilies(e){let t=new Map;e.forEach(i=>{let o=i.familyId||i.id;t.has(o)||t.set(o,[]),t.get(o).push(i)});let r=[];return t.forEach((i,o)=>{i.sort((s,a)=>s.id-a.id),r.push({familyId:o,pokemon:i,familyName:i[0].name})}),r.sort((i,o)=>i.pokemon[0].id-o.pokemon[0].id),r}getPokemonById(e){if(this.pokemonGoData.length>0){let t=this.pokemonGoData.find(r=>r.id===e);if(t)return k(t)}return this.getAllPokemon().pipe(L(t=>{let r=t.find(i=>i.id===e);if(!r)throw new Error(`Pokemon with ID ${e} not found`);return r}))}getTypeColor(e){return{normal:"#A8A878",fire:"#F08030",water:"#6890F0",electric:"#F8D030",grass:"#78C850",ice:"#98D8D8",fighting:"#C03028",poison:"#A040A0",ground:"#E0C068",flying:"#A890F0",psychic:"#F85888",bug:"#A8B820",rock:"#B8A038",ghost:"#705898",dragon:"#7038F8",dark:"#705848",steel:"#B8B8D0",fairy:"#EE99AC"}[e.toLowerCase()]||"#68A090"}static \u0275fac=function(t){return new(t||n)(O(kl))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};ie();var vE=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);var ia=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},wu=class extends ia{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},oa=class extends ia{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},sa=class extends ia{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},ag=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(ag||{});var aa=class{constructor(e,{headers:t={},customFetch:r,region:i=ag.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=vE(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return I(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let g=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let v;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(h["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(h["Content-Type"]="application/json",v=JSON.stringify(l)):v=l;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:m}).catch(H=>{throw new wu(H)}),T=y.headers.get("x-relay-error");if(T&&T==="true")throw new oa(y);if(!y.ok)throw new sa(y);let S=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield y.json():S==="application/octet-stream"||S==="application/pdf"?E=yield y.blob():S==="text/event-stream"?E=y:S==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof sa||a instanceof oa?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var Cg=W0(SE(),1),{PostgrestClient:TE,PostgrestQueryBuilder:D4,PostgrestFilterBuilder:C4,PostgrestTransformBuilder:I4,PostgrestBuilder:S4,PostgrestError:$R}=Cg.default||Cg;var Ig=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Sg=Ig;var ME="2.83.0";var AE=`realtime-js/${ME}`,Tg="1.0.0",xE="2.0.0",Mg=Tg;var la=1e4,RE=1e3,NE=100,Zr=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(Zr||{}),Se=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(Se||{}),ot=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(ot||{}),Ag=(function(n){return n.websocket="websocket",n})(Ag||{}),Jr=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Jr||{});var Eu=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){var t,r;let{event:i,topic:o,payload:s}=e,a=(t=e.ref)!==null&&t!==void 0?t:"",c=(r=e.join_ref)!==null&&r!==void 0?r:"",l=this.META_LENGTH+c.length+a.length+o.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,c.length),d.setUint8(h++,a.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(c,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(a,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>d.setUint8(h++,g.charCodeAt(0))),Array.from(i,g=>d.setUint8(h++,g.charCodeAt(0)));var f=new Uint8Array(u.byteLength+s.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(s),u.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r,i,o;let s=e.topic,a=(t=e.ref)!==null&&t!==void 0?t:"",c=(r=e.join_ref)!==null&&r!==void 0?r:"",l=e.payload.event,u=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+d),f=new DataView(h),g=0;f.setUint8(g++,this.KINDS.userBroadcastPush),f.setUint8(g++,c.length),f.setUint8(g++,a.length),f.setUint8(g++,s.length),f.setUint8(g++,l.length),f.setUint8(g++,this.BINARY_ENCODING),Array.from(c,m=>f.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>f.setUint8(g++,m.charCodeAt(0))),Array.from(s,m=>f.setUint8(g++,m.charCodeAt(0))),Array.from(l,m=>f.setUint8(g++,m.charCodeAt(0)));var v=new Uint8Array(h.byteLength+u.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(u),h.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var t,r,i,o;let s=e.topic,a=(t=e.ref)!==null&&t!==void 0?t:"",c=(r=e.join_ref)!==null&&r!==void 0?r:"",l=e.payload.event,u=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length,g=new ArrayBuffer(this.HEADER_LENGTH+f),v=new DataView(g),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,c.length),v.setUint8(m++,a.length),v.setUint8(m++,s.length),v.setUint8(m++,l.length),v.setUint8(m++,this.JSON_ENCODING),Array.from(c,T=>v.setUint8(m++,T.charCodeAt(0))),Array.from(a,T=>v.setUint8(m++,T.charCodeAt(0))),Array.from(s,T=>v.setUint8(m++,T.charCodeAt(0))),Array.from(l,T=>v.setUint8(m++,T.charCodeAt(0)));var y=new Uint8Array(g.byteLength+h.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(h),g.byteLength),y.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){let r=JSON.parse(e),[i,o,s,a,c]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:c})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,i);case this.KINDS.reply:return this._decodeReply(e,t,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodePush(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,c=r.decode(e.slice(a,a+i));a=a+i;let l=r.decode(e.slice(a,a+o));a=a+o;let u=r.decode(e.slice(a,a+s));a=a+s;let d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:c,ref:null,topic:l,event:u,payload:d}}_decodeReply(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,l=r.decode(e.slice(c,c+i));c=c+i;let u=r.decode(e.slice(c,c+o));c=c+o;let d=r.decode(e.slice(c,c+s));c=c+s;let h=r.decode(e.slice(c,c+a));c=c+a;let f=JSON.parse(r.decode(e.slice(c,e.byteLength))),g={status:h,response:f};return{join_ref:l,ref:u,topic:d,event:ot.reply,payload:g}}_decodeBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let c=r.decode(e.slice(s,s+o));s=s+o;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:c,payload:l}}_decodeUserBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(e.slice(c,c+i));c=c+i;let u=r.decode(e.slice(c,c+o));c=c+o;let d=r.decode(e.slice(c,c+s));c=c+s;let h=e.slice(c,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST,event:u,payload:f};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}};var _o=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(re||{}),Rg=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=HR(s,n,e,i),o),{}):{}},HR=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?OE(o,s):xg(s)},OE=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return WR(e,t)}switch(n){case re.bool:return zR(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return GR(e);case re.json:case re.jsonb:return qR(e);case re.timestamp:return KR(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return xg(e);default:return xg(e)}},xg=n=>n,zR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},GR=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},qR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},WR=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>OE(e,a))}return n},KR=n=>typeof n=="string"?n.replace(" ","T"):n,Du=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var wo=class{constructor(e,t,r={},i=la){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var ua=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),v=d.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var da=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(da||{}),Tn=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Tn||{});var fa=class n{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new wo(this,ot.join,this.params,this.timeout),this.rejoinTimer=new _o(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ua(this),this.broadcastEndpointURL=Du(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[da.PRESENCE]&&this.bindings[da.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Tn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){e?.(Tn.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,y=(v=m?.length)!==null&&v!==void 0?v:0,T=[];for(let S=0;S<y;S++){let E=m[S],{filter:{event:H,schema:Me,table:ee,filter:Ee}}=E,Rn=f&&f[S];if(Rn&&Rn.event===H&&Rn.schema===Me&&Rn.table===ee&&Rn.filter===Ee)T.push(Object.assign(Object.assign({},E),{id:Rn.id}));else{this.unsubscribe(),this.state=Se.errored,e?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Tn.SUBSCRIBED);return}})).receive("error",f=>{this.state=Se.errored,e?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===Se.joined&&e===da.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}httpSend(i,o){return p(this,arguments,function*(e,t,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return p(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wo(this,ot.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Se.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return p(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wo(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NE){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ot;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,v,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(v=f.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,v,m,y,T,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,H=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((v=t.ids)===null||v===void 0?void 0:v.includes(E))&&(H==="*"||H?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let E=(T=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=t?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:v,table:m,commit_timestamp:y,type:T,errors:S}=g;h=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:y,eventType:T,new:{},old:{},errors:S}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Rg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Rg(e.columns,e.old_record)),t}};var Ng=()=>{},Cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JR=[1e3,2e3,5e3,1e4],YR=1e4,QR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ha=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=la,this.transport=null,this.heartbeatIntervalMs=Cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ng,this.ref=0,this.reconnectTimer=null,this.vsn=Mg,this.logger=Ng,this.conn=null,this.sendBuffer=[],this.serializer=new Eu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Ag.websocket}`,this.httpEndpoint=Du(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Jr.Connecting;case Zr.open:return Jr.Open;case Zr.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new fa(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return p(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zr.open||this.conn.readyState===Zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([QR],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return p(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let i={access_token:t,version:AE};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ot.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _o(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Cu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:la,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Cu.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Ng,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:Mg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:g=>JR[g-1]||YR,this.vsn){case Tg:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(g,v)=>v(JSON.parse(g));break;case xE:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};ie();var bo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function te(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Iu=class extends bo{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yr=class extends bo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};ie();var Eo=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),kE=()=>Response,Su=n=>{if(Array.isArray(n))return n.map(t=>Su(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Su(r)}),e},PE=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Og=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},XR=(n,e,t)=>I(void 0,void 0,void 0,function*(){let r=yield kE();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";e(new Iu(Og(i),o,s))}).catch(i=>{e(new Yr(Og(i),i))}):e(new Yr(Og(n),n))}),eN=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(PE(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function pa(n,e,t,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,eN(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>XR(c,a,r))})})}function nr(n,e,t,r){return I(this,void 0,void 0,function*(){return pa(n,"GET",e,t,r)})}function st(n,e,t,r,i){return I(this,void 0,void 0,function*(){return pa(n,"POST",e,r,i,t)})}function ga(n,e,t,r,i){return I(this,void 0,void 0,function*(){return pa(n,"PUT",e,r,i,t)})}function FE(n,e,t,r){return I(this,void 0,void 0,function*(){return pa(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Do(n,e,t,r,i){return I(this,void 0,void 0,function*(){return pa(n,"DELETE",e,r,i,t)})}ie();ie();var Tu=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}};var LE,kg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[LE]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tu(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}};LE=Symbol.toStringTag;var jE=kg;var tN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Mu=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Eo(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return I(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},VE),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield(e=="PUT"?ga:st)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}})}upload(e,t,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return I(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:VE.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield ga(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(te(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield st(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new bo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}update(e,t,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return I(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}copy(e,t,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield st(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield st(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return I(this,void 0,void 0,function*(){try{let i=yield st(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}download(e,t){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>nr(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new jE(c,this.shouldThrowOnError)}info(e){return I(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield nr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Su(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}exists(e){return I(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield FE(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r)&&r instanceof Yr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return I(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}list(e,t,r){return I(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},tN),t),{prefix:e||""});return{data:yield st(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}listV2(e,t){return I(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield st(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};ie();var Au="2.83.0";var xu={"X-Client-Info":`storage-js/${Au}`};var Ru=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xu),t),this.fetch=Eo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return I(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield nr(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}getBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}createBucket(e){return I(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return I(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}deleteBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};ie();var Nu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xu),t),this.fetch=Eo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}listBuckets(e){return I(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield nr(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}deleteBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}})}};ie();ie();var Co={"X-Client-Info":`storage-js/${Au}`,"Content-Type":"application/json"};var Ou=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ze(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Io=class extends Ou{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ku=class extends Ou{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};ie();var So=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);var UE=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var BE=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nN=(n,e,t)=>I(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";e(new Io(BE(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new Io(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new Io(a,i,s))}}else e(new ku(BE(n),n))}),rN=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(UE(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t))};function iN(n,e,t,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,rN(e,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>nN(c,a,r))})})}function Je(n,e,t,r,i){return I(this,void 0,void 0,function*(){return iN(n,"POST",e,r,i,t)})}var Pu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),t),this.fetch=So(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}getIndex(e,t){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listIndexes(e){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}};ie();var Fu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),t),this.fetch=So(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return I(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}getVectors(e){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}listVectors(e){return I(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}queryVectors(e){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}deleteVectors(e){return I(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}};ie();var Lu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),t),this.fetch=So(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}getBucket(e){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}listBuckets(){return I(this,arguments,void 0,function*(e={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}deleteBucket(e){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}};var ma=class extends Lu{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ju(this.url,this.headers,e,this.fetch)}},ju=class extends Pu{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Vu(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Vu=class extends Fu{constructor(e,t,r,i,o){super(e,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var va=class extends Ru{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new Mu(this.url,this.headers,e,this.fetch)}get vectors(){return new ma(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nu(this.url+"/iceberg",this.headers,this.fetch)}};var $E="2.83.0";var ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";var oN={"X-Client-Info":`supabase-js-${ya}/${$E}`},HE={headers:oN},zE={schema:"public"},GE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qE={};var sN=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),aN=()=>Headers,WE=(n,e,t)=>{let r=sN(t),i=aN();return(o,s)=>p(null,null,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:n,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};function cN(n){return n.endsWith("/")?n:n+"/"}function KE(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p(null,null,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function ZE(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}ie();ie();var Uu="2.83.0";var Qr=30*1e3,Bu=3,$u=Bu*Qr,JE="http://localhost:9999",YE="supabase.auth.token";var QE={"X-Client-Info":`gotrue-js/${Uu}`};var _a="X-Supabase-Api-Version",Pg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e0=600*1e3;var rr=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function N(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Hu=class extends rr{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function t0(n){return N(n)&&n.name==="AuthApiError"}var Ct=class extends rr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},an=class extends rr{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},He=class extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function n0(n){return N(n)&&n.name==="AuthSessionMissingError"}var Mn=class extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xr=class extends an{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ei=class extends an{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function r0(n){return N(n)&&n.name==="AuthImplicitGrantRedirectError"}var wa=class extends an{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},To=class extends an{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function zu(n){return N(n)&&n.name==="AuthRetryableFetchError"}var ba=class extends an{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var ti=class extends an{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i0=` 	
\r=`.split(""),lN=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<i0.length;e+=1)n[i0[e].charCodeAt(0)]=-2;for(let e=0;e<Gu.length;e+=1)n[Gu[e].charCodeAt(0)]=e;return n})();function o0(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Gu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Gu[r]),e.queuedBits-=6}}function s0(n,e,t){let r=lN[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Fg(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{fN(s,r,t)};for(let s=0;s<n.length;s+=1)s0(n.charCodeAt(s),i,o);return e.join("")}function uN(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function dN(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}uN(r,e)}}function fN(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ir(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)s0(n.charCodeAt(i),t,r);return new Uint8Array(e)}function a0(n){let e=[];return dN(n,t=>e.push(t)),new Uint8Array(e)}function An(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>o0(i,t,r)),o0(null,t,r),e.join("")}function c0(n){return Math.round(Date.now()/1e3)+n}function l0(){return Symbol("auth-callback")}var Te=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},qu=()=>{if(!Te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function u0(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}var Wu=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),d0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ri=(n,e,t)=>p(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),or=(n,e)=>p(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),xn=(n,e)=>p(null,null,function*(){yield n.removeItem(e)}),Ea=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Ea.promiseConstructor=Promise;function Ku(n){let e=n.split(".");if(e.length!==3)throw new ti("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!XE.test(e[r]))throw new ti("JWT not in base64url format");return{header:JSON.parse(Fg(e[0])),payload:JSON.parse(Fg(e[1])),signature:ir(e[2]),raw:{header:e[0],payload:e[1]}}}function f0(n){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function h0(n,e){return new Promise((r,i)=>{p(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function hN(n){return("0"+n.toString(16)).substr(-2)}function pN(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,hN).join("")}function gN(n){return p(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function mN(n){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield gN(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ii(n,e,t=!1){return p(this,null,function*(){let r=pN(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield ri(n,`${e}-code-verifier`,i);let o=yield mN(r);return[o,r===o?"plain":"s256"]})}var vN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p0(n){let e=n.headers.get(_a);if(!e||!e.match(vN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function g0(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function m0(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var yN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(n){if(!yN.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zu(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v0(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function Lg(n){return JSON.parse(JSON.stringify(n))}var si=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_N=[502,503,504];function y0(n){return p(this,null,function*(){var e;if(!d0(n))throw new To(si(n),0);if(_N.includes(n.status))throw new To(si(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Ct(si(o),o)}let r,i=p0(n);if(i&&i.getTime()>=Pg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ba(si(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new He}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ba(si(t),n.status,t.weak_password.reasons);throw new Hu(si(t),n.status||500,r)})}var wN=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function P(n,e,t,r){return p(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[_a]||(o[_a]=Pg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield bN(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function bN(n,e,t,r,i,o){return p(this,null,function*(){let s=wN(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(c){throw console.error(c),new To(si(c),0)}if(a.ok||(yield y0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield y0(c)}})}function It(n){var e;let t=null;EN(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=c0(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function jg(n){let e=It(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function cn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function _0(n){return{data:n,error:null}}function w0(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=un(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Vg(n){return n}function EN(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ju=["global","local","others"];var Mo=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Wu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return p(this,arguments,function*(e,t=Ju[0]){if(Ju.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return yield P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(N(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return p(this,arguments,function*(e,t={}){try{return yield P(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cn})}catch(i){if(N(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:t}=e,r=un(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:w0,redirectTo:t?.redirectTo})}catch(t){if(N(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cn})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return p(this,null,function*(){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vg});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);l[`${m}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(N(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){oi(e);try{return yield P(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cn})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return p(this,null,function*(){oi(e);try{return yield P(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:cn})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return p(this,null,function*(){oi(e);try{return yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:cn})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){oi(e.userId);try{let{data:t,error:r}=yield P(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(N(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return p(this,null,function*(){oi(e.userId),oi(e.id);try{return{data:yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return p(this,null,function*(){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vg});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);l[`${m}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(N(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(N(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(N(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return p(this,null,function*(){try{return yield P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return p(this,null,function*(){try{return yield P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(N(t))return{data:null,error:t};throw t}})}};function Ug(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var ai={debug:!!(globalThis&&qu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Da=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Yu=class extends Da{};function Bg(n,e,t){return p(this,null,function*(){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>p(null,null,function*(){if(i){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Yu(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ai.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function b0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $g(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function E0(n){return parseInt(n,16)}function D0(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function C0(n){var e;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=$g(n.address),g=u?`${u}://${r}`:r,v=n.statement?`${n.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${v}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let T=`
Resources:`;for(let S of l){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);T+=`
- ${S}`}y+=T}return`${m}
${y}`}ie();var le=class extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},ci=class extends le{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function I0({error:n,options:e}){var t,r,i;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new le({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(Hg(s)){if(o.rp.id!==s)return new le({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function S0({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new le({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(Hg(r)){if(t.rpId!==r)return new le({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var zg=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},DN=new zg;function M0(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,i=un(n,["challenge","user","excludeCredentials"]),o=ir(e).buffer,s=Object.assign(Object.assign({},t),{id:ir(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:ir(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function A0(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=un(n,["challenge","allowCredentials"]),i=ir(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:ir(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function x0(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:An(new Uint8Array(n.response.attestationObject)),clientDataJSON:An(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R0(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:An(new Uint8Array(i.authenticatorData)),clientDataJSON:An(new Uint8Array(i.clientDataJSON)),signature:An(new Uint8Array(i.signature)),userHandle:i.userHandle?An(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function T0(){var n,e;return!!(Te()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function CN(n){return p(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",e)}:{data:null,error:new ci("Empty credential response",e)}}catch(e){return{data:null,error:I0({error:e,options:n})}}})}function IN(n){return p(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",e)}:{data:null,error:new ci("Empty credential response",e)}}catch(e){return{data:null,error:S0({error:e,options:n})}}})}var SN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qu(...n){let e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(e(s)){let a=r[o];e(a)?r[o]=Qu(a,s):r[o]=Qu(s)}else r[o]=s}return r}function MN(n,e){return Qu(SN,n,e||{})}function AN(n,e){return Qu(TN,n,e||{})}var Xu=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return p(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return p(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:i},o){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:l};let u=i??DN.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=MN(c.webauthn.credential_options.publicKey,o?.create),{data:h,error:f}=yield CN({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{let d=AN(c.webauthn.credential_options.publicKey,o?.request),{data:h,error:f}=yield IN(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(c){return N(c)?{data:null,error:c}:{data:null,error:new Ct("Unexpected error in challenge",c)}}})}_verify(i){return p(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(s,a){return p(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new rr("rpId is required for WebAuthn authentication")};try{if(!T0())return{data:null,error:new Ct("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return N(c)?{data:null,error:c}:{data:null,error:new Ct("Unexpected error in authenticate",c)}}})}_register(s,a){return p(this,arguments,function*({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new rr("rpId is required for WebAuthn registration")};try{if(!T0())return{data:null,error:new Ct("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return N(c)?{data:null,error:c}:{data:null,error:new Ct("Unexpected error in register",c)}}})}};b0();var xN={url:JE,storageKey:YE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function N0(n,e,t){return p(this,null,function*(){return yield t()})}var Ao={},RN=(()=>{class n{get jwks(){var t,r;return(r=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},xN),t);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Te()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Mo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wu(s.fetch),this.lock=s.lock||N0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Te()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Bg:this.lock=N0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),Te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uu}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var t;try{let r={},i="none";if(Te()&&(r=u0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Te()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),r0(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?this._returnResult({error:r}):this._returnResult({error:new Ct("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return p(this,null,function*(){var r,i,o;try{let s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:It}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(t){return p(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield ii(this.storage,this.storageKey)),s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:It})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:It})}else throw new Xr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(t){return p(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jg})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jg})}else throw new Xr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Mn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return p(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return p(this,null,function*(){var r,i,o,s,a,c,l,u,d,h,f;let g,v;if("message"in t)g=t.message,v=t.signature;else{let{chain:m,wallet:y,statement:T,options:S}=t,E;if(Te())if(typeof y=="object")E=y;else{let ln=window;if("ethereum"in ln&&typeof ln.ethereum=="object"&&"request"in ln.ethereum&&typeof ln.ethereum.request=="function")E=ln.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}let H=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),Me=yield E.request({method:"eth_requestAccounts"}).then(ln=>ln).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Me||Me.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ee=$g(Me[0]),Ee=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ee){let ln=yield E.request({method:"eth_chainId"});Ee=E0(ln)}let Rn={domain:H.host,address:ee,statement:T,uri:H.href,version:"1",chainId:Ee,nonce:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=C0(Rn),v=yield E.request({method:"personal_sign",params:[D0(g),ee]})}try{let{data:m,error:y}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:It});if(y)throw y;if(!m||!m.session||!m.user){let T=new Mn;return this._returnResult({data:{user:null,session:null},error:T})}return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(N(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}signInWithSolana(t){return p(this,null,function*(){var r,i,o,s,a,c,l,u,d,h,f,g;let v,m;if("message"in t)v=t.message,m=t.signature;else{let{chain:y,wallet:T,statement:S,options:E}=t,H;if(Te())if(typeof T=="object")H=T;else{let ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))H=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=T}let Me=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){let ee=yield H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:Me.host,uri:Me.href}),S?{statement:S}:null)),Ee;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")Ee=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)Ee=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ee&&"signature"in Ee&&(typeof Ee.signedMessage=="string"||Ee.signedMessage instanceof Uint8Array)&&Ee.signature instanceof Uint8Array)v=typeof Ee.signedMessage=="string"?Ee.signedMessage:new TextDecoder().decode(Ee.signedMessage),m=Ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${Me.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${Me.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(Ee=>`- ${Ee}`)]:[]].join(`
`);let ee=yield H.signMessage(new TextEncoder().encode(v),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=ee}}try{let{data:y,error:T}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:An(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:It});if(T)throw T;if(!y||!y.session||!y.user){let S=new Mn;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:T})}catch(y){if(N(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield or(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:It});if(yield xn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(t){return p(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,c=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:It}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Mn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield ii(this.storage,this.storageKey));let{error:h}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Xr("You must provide either an email or phone number.")}catch(c){if(N(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(t){return p(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:It});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(t){return p(this,null,function*(){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield ii(this.storage,this.storageKey));let u=yield P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:_0});return!((s=u.data)===null||s===void 0)&&s.url&&Te()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(N(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new He;let{error:o}=yield P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(t){if(N(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:c}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Xr("You must provide either an email or phone number and a type")}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=p(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield or(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Zu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=v0(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cn}):yield this._useSession(r=>p(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:cn})}))}catch(r){if(N(r))return n0(r)&&(yield this._removeSession(),yield xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>p(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new He;let c=s.session,l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=yield ii(this.storage,this.storageKey));let{data:d,error:h}=yield P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:cn});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(N(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new He;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Ku(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new He;let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(t,r){return p(this,null,function*(){try{if(!Te())throw new ei("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ei(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wa("No code detected.");let{data:S,error:E}=yield this._exchangeCodeForSession(t.code);if(E)throw E;let H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:S.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new ei("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:m,error:y}=yield this._getUser(s);if(y)throw y;let T={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(i){if(N(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return p(this,null,function*(){let r=yield or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(t0(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(yield this._removeSession(),yield xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){let r=l0(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield ii(this.storage,this.storageKey,!0));try{return yield P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(N(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(t){return p(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return p(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield P(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Te()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(N(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}})}linkIdentityIdToken(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=t,h=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:It}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(o){if(N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield h0(o=>p(this,null,function*(){return o>0&&(yield f0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:It})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&zu(s)&&Date.now()+a-i<Qr})}catch(i){if(this._debug(r,"error",i),N(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Te()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield or(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield ri(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:Zu()}else if(o&&!o.user&&!o.user){let a=yield or(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield xn(this.storage,this.storageKey+"-user"),yield ri(this.storage,this.storageKey,o)):o.user=Zu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$u;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${$u}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),zu(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,i;if(!t)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ea;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new He;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),N(s)){let a={data:null,error:s};return zu(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return p(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield ri(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Lg(o);yield ri(this.storage,this.storageKey,s)}else{let o=Lg(r);yield ri(this.storage,this.storageKey,o)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield xn(this.storage,this.storageKey),yield xn(this.storage,this.storageKey+"-code-verifier"),yield xn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield xn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Te()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qr}ms, refresh threshold is ${Bu} ticks`),o<=Bu&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Da)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Te()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return p(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield ii(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=yield P(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?x0(t.webauthn.credential_response):R0(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:M0(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:A0(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){var t;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){var t,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Ku(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield P(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new He})}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(t,r){return p(this,null,function*(){try{return yield this._useSession(i=>p(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new He});let a=yield P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(t,r){return p(this,null,function*(){try{return yield this._useSession(i=>p(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new He});let a=yield P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?yield P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new He})}))}catch(t){if(N(t))return this._returnResult({data:null,error:t});throw t}})}_revokeOAuthGrant(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new He})}))}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return p(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(l=>l.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===t),o&&this.jwks_cached_at+e0>s)return o;let{data:a,error:c}=yield P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===t),!o)?null:o})}getClaims(i){return p(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:v,error:m}=yield this.getSession();if(m||!v.session)return this._returnResult({data:null,error:m});o=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Ku(o);r?.allowExpired||g0(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(o);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let h=m0(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,a0(`${l}.${u}`))))throw new ti("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(N(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),Gg=RN;var NN=Gg,qg=NN;var ed=class extends qg{constructor(e){super(e)}};var td=class{constructor(e,t,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=t;let a=ZE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:zE,realtime:qE,auth:Object.assign(Object.assign({},GE),{storageKey:c}),global:HE},u=KE(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=WE(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new TE(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new va(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new aa(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l,throwOnError:u},d,h){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ed({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ha(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var O0=(n,e,t)=>new td(n,e,t);function ON(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ON()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var nd={SUPABASE_URL:"https://buocfdzizcojbednhkre.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ1b2NmZHppemNvamJlZG5oa3JlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MDgxOTgsImV4cCI6MjA3OTE4NDE5OH0.EWtJ8KY5AkB7mWKqmrNBU62A4pBnL3RHlUYO8NvSP-w",SUPABASE_SCHEMA:"public",AUTH_OPTIONS:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}};var xo=class n{supabase;constructor(){this.supabase=O0(nd.SUPABASE_URL,nd.SUPABASE_ANON_KEY,{auth:nd.AUTH_OPTIONS})}getClient(){return this.supabase}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var sr=class n{constructor(e){this.supabaseService=e;this.supabase=this.supabaseService.getClient(),this.initializeAuth(),this.supabase.auth.onAuthStateChange((t,r)=>{this.session.set(r),this.currentUser.set(r?.user??null),this.isLoading.set(!1)})}supabase;currentUser=W(null);session=W(null);isLoading=W(!0);initializeAuth(){return p(this,null,function*(){try{let{data:{session:e}}=yield this.supabase.auth.getSession();this.session.set(e),this.currentUser.set(e?.user??null)}catch(e){console.error("Error initializing auth:",e)}finally{this.isLoading.set(!1)}})}signUp(e,t){return p(this,null,function*(){let{error:r}=yield this.supabase.auth.signUp({email:e,password:t});return{error:r}})}signIn(e,t){return p(this,null,function*(){let{error:r}=yield this.supabase.auth.signInWithPassword({email:e,password:t});return{error:r}})}signOut(){return p(this,null,function*(){let{error:e}=yield this.supabase.auth.signOut();return{error:e}})}isAuthenticated(){return this.currentUser()!==null}getUserId(){return this.currentUser()?.id??null}static \u0275fac=function(t){return new(t||n)(O(xo))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var rd=class n{constructor(e){this.supabaseService=e;this.supabase=this.supabaseService.getClient()}supabase;TABLE_NAME="SavedUserData";getUserData(e){return ne(this.supabase.from(this.TABLE_NAME).select("*").eq("userId",e)).pipe(L(({data:t,error:r})=>{if(r)throw r;return t||[]}),it(t=>(console.error("Error fetching user data:",t),k([]))))}savePokemonData(e){return p(this,null,function*(){let{data:t,error:r}=yield this.supabase.from(this.TABLE_NAME).select("id").eq("PokemonNumber",e.PokemonNumber).eq("userId",e.userId).maybeSingle();if(r)return{error:r};let i={PokemonNumber:e.PokemonNumber,"100IV":e["100IV"],"Shiny 100IV":e["Shiny 100IV"],"Dynamax Best IV":e["Dynamax Best IV"],userId:e.userId};if(t){let{error:o}=yield this.supabase.from(this.TABLE_NAME).update({"100IV":e["100IV"],"Shiny 100IV":e["Shiny 100IV"],"Dynamax Best IV":e["Dynamax Best IV"]}).eq("id",t.id);return{error:o}}else{let{error:o}=yield this.supabase.from(this.TABLE_NAME).insert(i);return{error:o}}})}deletePokemonData(e,t){return p(this,null,function*(){let{error:r}=yield this.supabase.from(this.TABLE_NAME).delete().eq("PokemonNumber",e).eq("userId",t);return{error:r}})}getCheckboxStates(e){return p(this,null,function*(){let t=yield Ad(this.getUserData(e)),r=new Set,i=new Set;return t?.forEach(o=>{o["100IV"]&&r.add(o.PokemonNumber),o["Shiny 100IV"]&&i.add(o.PokemonNumber)}),{checked100iv:r,checkedShiny100iv:i}})}static \u0275fac=function(t){return new(t||n)(O(xo))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var PN=n=>["/pokemon",n],FN=(n,e)=>e.familyId,LN=(n,e)=>e.id;function jN(n,e){n&1&&(b(0,"div",6)(1,"span"),R(2,"\u{1F512} Sign in to save your progress"),D()())}function VN(n,e){if(n&1&&(b(0,"div",7)(1,"div",9)(2,"span",10),R(3,"100IV "),D(),b(4,"span",11),R(5),D()(),b(6,"div",9)(7,"span",10),R(8,"Shiny 100IV "),D(),b(9,"span",11),R(10),D()(),b(11,"div",12)(12,"span",10),R(13,"Pending 100IV "),D(),b(14,"span",11),R(15),D()(),b(16,"div",12)(17,"span",10),R(18,"Pending Shiny 100IV "),D(),b(19,"span",11),R(20),D()()()),n&2){let t=ce();x(5),Ce(t.count100iv()),x(5),Ce(t.countShiny100iv()),x(5),Ce(t.pending100iv()),x(5),Ce(t.pendingShiny100iv())}}function UN(n,e){n&1&&(b(0,"div",8),be(1,"div",13),b(2,"p"),R(3,"Loading Pok\xE9mon..."),D()())}function BN(n,e){n&1&&be(0,"img",25)}function $N(n,e){if(n&1){let t=Cn();b(0,"a",21)(1,"div",22)(2,"div",23),R(3),D(),b(4,"div",24),je(5,BN,1,0,"img",25),b(6,"img",26),oe("loadstart",function(){let i=ge(t).$implicit,o=ce(3);return me(o.onImageStartLoad(i.id))})("load",function(){let i=ge(t).$implicit,o=ce(3);return me(o.onImageLoad(i.id))})("error",function(){let i=ge(t).$implicit,o=ce(3);return me(o.onImageError(i.id))}),D()()(),b(7,"div",27),R(8),D(),b(9,"div",28)(10,"label",29)(11,"input",30),oe("change",function(i){let o=ge(t).$implicit,s=ce(3);return me(s.toggle100iv(o.id,i))})("click",function(i){return ge(t),me(i.stopPropagation())}),D(),b(12,"span"),R(13,"100IV"),D()(),b(14,"label",29)(15,"input",30),oe("change",function(i){let o=ge(t).$implicit,s=ce(3);return me(s.toggleShiny100iv(o.id,i))})("click",function(i){return ge(t),me(i.stopPropagation())}),D(),b(16,"span"),R(17,"Shiny 100IV"),D()()()()}if(n&2){let t=e.$implicit,r=ce(3);Ne("routerLink",qi(16,PN,t.id)),x(3),Be("#",t.id),x(2),Ve(r.isImageLoading(t.id)?5:-1),x(),Ue("hidden",r.isImageLoading(t.id)),Ne("src",t.sprite,Ui)("alt",t.name),x(2),Ce(t.name),x(2),Ue("disabled",!r.isAuthenticated()),x(),Ne("checked",r.isChecked100iv(t.id))("disabled",!r.isAuthenticated()),x(3),Ue("disabled",!r.isAuthenticated()),x(),Ne("checked",r.isCheckedShiny100iv(t.id))("disabled",!r.isAuthenticated())}}function HN(n,e){if(n&1&&(b(0,"div",15)(1,"div",17)(2,"span",18),R(3),D(),b(4,"span",19),R(5),D()(),b(6,"div",20),Hi(7,$N,18,18,"a",21,LN),D()()),n&2){let t=e.$implicit;x(3),Be("",t.familyName," Family"),x(2),Be("(",t.pokemon.length," Pok\xE9mon)"),x(2),zi(t.pokemon)}}function zN(n,e){n&1&&(b(0,"div",16)(1,"p"),R(2,"No Pok\xE9mon found matching your criteria."),D()())}function GN(n,e){if(n&1&&(b(0,"div",14),Hi(1,HN,9,2,"div",15,FN),D(),je(3,zN,3,0,"div",16)),n&2){let t=ce();x(),zi(t.filteredFamilies()),x(2),Ve(t.filteredFamilies().length===0?3:-1)}}var id=class n{constructor(e,t,r){this.pokemonService=e;this.authService=t;this.savedUserDataService=r;ws(()=>{this.authService.currentUser()?this.loadCheckboxStates():(this.checked100iv.set(new Set),this.checkedShiny100iv.set(new Set))})}pokemon=W([]);filteredPokemon=W([]);filteredFamilies=W([]);searchTerm=W("");isLoading=W(!0);activeTab=W("all");checked100iv=W(new Set);checkedShiny100iv=W(new Set);imageLoading=W(new Set);isAuthenticated=wt(()=>this.authService.isAuthenticated());ngOnInit(){this.loadPokemon(),this.authService.isAuthenticated()&&this.loadCheckboxStates()}loadCheckboxStates(){return p(this,null,function*(){let e=this.authService.getUserId();if(e)try{let{checked100iv:t,checkedShiny100iv:r}=yield this.savedUserDataService.getCheckboxStates(e);this.checked100iv.set(t),this.checkedShiny100iv.set(r),this.applyFilters()}catch(t){console.error("Error loading checkbox states from Supabase:",t)}})}savePokemonData(e,t,r){return p(this,null,function*(){let i=this.authService.getUserId();if(!i){console.warn("User not authenticated. Cannot save data.");return}try{yield this.savedUserDataService.savePokemonData({PokemonNumber:e,"100IV":t,"Shiny 100IV":r,"Dynamax Best IV":0,userId:i})}catch(o){console.error("Error saving Pokemon data to Supabase:",o)}})}loadPokemon(){this.isLoading.set(!0),this.pokemonService.getAllPokemon().subscribe({next:e=>{this.pokemon.set(e),this.applyFilters(),this.isLoading.set(!1)},error:e=>{console.error("Error loading Pokemon:",e),this.isLoading.set(!1)}})}onSearchChange(e){this.searchTerm.set(e),this.applyFilters()}setActiveTab(e){this.activeTab.set(e),this.applyFilters()}applyFilters(){let e=[...this.pokemon()],t=this.activeTab();t==="caught"?e=e.filter(o=>this.checked100iv().has(o.id)||this.checkedShiny100iv().has(o.id)):t==="pending"&&(e=e.filter(o=>!this.checked100iv().has(o.id)&&!this.checkedShiny100iv().has(o.id)));let r=this.searchTerm().toLowerCase();r&&(e=e.filter(o=>o.name.toLowerCase().includes(r)||o.id.toString().includes(r))),e.sort((o,s)=>o.id-s.id),this.filteredPokemon.set(e);let i=this.pokemonService.groupByFamilies(e);this.filteredFamilies.set(i)}getTypeColor(e){return this.pokemonService.getTypeColor(e)}isChecked100iv(e){return this.checked100iv().has(e)}isCheckedShiny100iv(e){return this.checkedShiny100iv().has(e)}toggle100iv(e,t){if(t.stopPropagation(),t.preventDefault(),!this.authService.isAuthenticated())return;let r=new Set(this.checked100iv()),i=r.has(e);i?r.delete(e):r.add(e),this.checked100iv.set(r),this.savePokemonData(e,!i,this.checkedShiny100iv().has(e)),this.applyFilters()}toggleShiny100iv(e,t){if(t.stopPropagation(),t.preventDefault(),!this.authService.isAuthenticated())return;let r=new Set(this.checkedShiny100iv()),i=r.has(e);i?r.delete(e):r.add(e),this.checkedShiny100iv.set(r),this.savePokemonData(e,this.checked100iv().has(e),!i),this.applyFilters()}onImageLoad(e){let t=new Set(this.imageLoading());t.delete(e),this.imageLoading.set(t)}onImageStartLoad(e){let t=new Set(this.imageLoading());t.add(e),this.imageLoading.set(t)}onImageError(e){let t=new Set(this.imageLoading());t.delete(e),this.imageLoading.set(t)}isImageLoading(e){return this.imageLoading().has(e)}count100iv=wt(()=>this.checked100iv().size);countShiny100iv=wt(()=>this.checkedShiny100iv().size);pending100iv=wt(()=>this.pokemon().length-this.checked100iv().size);pendingShiny100iv=wt(()=>this.pokemon().length-this.checkedShiny100iv().size);static \u0275fac=function(t){return new(t||n)(z(vo),z(sr),z(rd))};static \u0275cmp=kt({type:n,selectors:[["app-pokemon-list"]],decls:15,vars:10,consts:[[1,"pokemon-list-container"],[1,"filters-section"],[1,"tabs-container"],[1,"tab-btn",3,"click"],[1,"search-box"],["type","text","placeholder","Search by name or number...",1,"search-input",3,"input","value"],[1,"auth-notice"],[1,"counts-section"],[1,"loading"],[1,"count-item"],[1,"count-label"],[1,"count-value"],[1,"count-item","pending"],[1,"spinner"],[1,"families-container"],[1,"family-row"],[1,"no-results"],[1,"family-header"],[1,"family-name"],[1,"family-count"],[1,"family-pokemon"],[1,"pokemon-card-inline",3,"routerLink"],[1,"pokemon-portrait-container"],[1,"pokemon-number-badge"],[1,"pokemon-image-circle"],["src","/Images/pokemon.png","alt","Loading...",1,"pokeball-spinner"],["loading","lazy",3,"loadstart","load","error","src","alt"],[1,"pokemon-name"],[1,"pokemon-checkboxes"],[1,"checkbox-label"],["type","checkbox",3,"change","click","checked","disabled"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),oe("click",function(){return r.setActiveTab("all")}),R(4," All "),D(),b(5,"button",3),oe("click",function(){return r.setActiveTab("caught")}),R(6," Caught "),D(),b(7,"button",3),oe("click",function(){return r.setActiveTab("pending")}),R(8," Pending "),D()(),b(9,"div",4)(10,"input",5),oe("input",function(o){return r.onSearchChange(o.target.value)}),D()(),je(11,jN,3,0,"div",6),je(12,VN,21,4,"div",7),D(),je(13,UN,4,0,"div",8)(14,GN,4,1),D()),t&2&&(x(3),Ue("active",r.activeTab()==="all"),x(2),Ue("active",r.activeTab()==="caught"),x(2),Ue("active",r.activeTab()==="pending"),x(3),Ne("value",r.searchTerm()),x(),Ve(r.isAuthenticated()?-1:11),x(),Ve(r.isAuthenticated()?12:-1),x(),Ve(r.isLoading()?13:14))},dependencies:[en,_u,Ys,ho],styles:[".pokemon-list-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#dc143c;margin-bottom:.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#7f8c8d}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 8px #0000001a}.tabs-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1.5rem;background:#f5f7fa;padding:4px;border-radius:10px;position:relative}.tab-btn[_ngcontent-%COMP%]{flex:1;padding:12px 20px;background:transparent;border:none;border-radius:8px;font-size:15px;font-weight:600;color:#6b7280;cursor:pointer;transition:all .3s ease;position:relative;z-index:1}.tab-btn[_ngcontent-%COMP%]:hover{color:#667eea;background:#667eea1a}.tab-btn.active[_ngcontent-%COMP%]{color:#667eea;background:#fff;box-shadow:0 2px 4px #0000001a}.search-box[_ngcontent-%COMP%]{margin-bottom:0}.auth-notice[_ngcontent-%COMP%]{padding:1rem;background:#fff3cd;border:1px solid #ffc107;border-radius:8px;margin-top:1rem;text-align:center;color:#856404;font-size:.9rem;font-weight:500}.counts-section[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap;padding-top:1rem;border-top:2px solid #ecf0f1}.count-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#fff;border-radius:200px;border:2px solid #e0e0e0;box-shadow:0 2px 4px #0000000d}.count-item.pending[_ngcontent-%COMP%]{background:#fff9e6;border-color:gold}.count-label[_ngcontent-%COMP%]{color:#1a237e;font-weight:600;font-size:.95rem}.count-item.pending[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{color:#b8860b}.count-value[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;font-size:1.1rem}.search-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;font-size:1rem;border:2px solid #e0e0e0;border-radius:8px;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff6b6b;box-shadow:0 0 0 3px #ff6b6b1a}.filter-group[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.filter-select[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:.75rem;font-size:.95rem;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:border-color .3s}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.results-info[_ngcontent-%COMP%]{margin-bottom:1rem;color:#7f8c8d;font-size:.95rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #FF6B6B;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.families-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem}.family-row[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;transition:box-shadow .2s,transform .2s;border:2px solid transparent}.family-row[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ff6b6b33;transform:translateY(-2px);border-color:#ffe66d}.family-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid #ecf0f1}.family-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#dc143c}.family-count[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:500}.family-pokemon[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start}.pokemon-card-inline[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.25rem;text-decoration:none;color:inherit;transition:transform .2s,box-shadow .2s;display:flex;flex-direction:column;align-items:center;min-width:180px;flex:0 0 auto;border:1px solid #e0e0e0;box-shadow:0 2px 8px #00000014}.pokemon-card-inline[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 16px #0000001f}.pokemon-portrait-container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.pokemon-number-badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:50%;transform:translate(-50%);font-size:.7rem;color:#fff;font-weight:600;z-index:2;text-shadow:0 1px 2px rgba(0,0,0,.3)}.pokemon-image-circle[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;box-shadow:0 4px 12px #0003}.pokemon-image-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85%;height:85%;object-fit:contain;z-index:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.pokemon-image-circle[_ngcontent-%COMP%]   img.hidden[_ngcontent-%COMP%]{display:none}.pokeball-spinner[_ngcontent-%COMP%]{width:60px;height:60px;animation:_ngcontent-%COMP%_spin-pokeball 1s linear infinite;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}@keyframes _ngcontent-%COMP%_spin-pokeball{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.pokemon-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#1a1a1a;margin-bottom:1rem;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.pokemon-checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;width:100%;margin-top:.5rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;font-size:.9rem;color:#2c3e50;-webkit-user-select:none;user-select:none;font-weight:500}.checkbox-label.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:#4caf50;border-radius:4px;flex-shrink:0}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#4caf50;border-color:#4caf50}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#1a1a1a}.no-results[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#7f8c8d;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}@media (max-width: 768px){.pokemon-list-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.family-pokemon[_ngcontent-%COMP%]{flex-direction:column}.pokemon-card-inline[_ngcontent-%COMP%]{width:100%;min-width:unset}.filter-group[_ngcontent-%COMP%]{flex-direction:column}.filter-select[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.family-pokemon[_ngcontent-%COMP%]{flex-direction:column}.pokemon-card-inline[_ngcontent-%COMP%]{width:100%}}"]})};var P0=n=>["/pokemon",n];function qN(n,e){n&1&&(b(0,"div",1),be(1,"div",3),b(2,"p"),R(3,"Loading Pok\xE9mon..."),D()())}function WN(n,e){if(n&1&&(b(0,"span",26),R(1),Wi(2,"titlecase"),D()),n&2){let t=e.$implicit,r=ce(2);ml("background-color",r.getTypeColor(t)),x(),Be(" ",Kh(2,3,t)," ")}}function KN(n,e){if(n&1&&(b(0,"div",4)(1,"a",5),R(2,"\u2190 Back to Pok\xE9dex"),D()(),b(3,"div",6)(4,"div",7)(5,"div",8),be(6,"img",9),D(),b(7,"div",10)(8,"div",11),R(9),Wi(10,"number"),D(),b(11,"h1",12),R(12),D(),b(13,"div",13),Hi(14,WN,3,5,"span",14,Wh),D(),b(16,"div",15),R(17),D()()(),b(18,"div",16)(19,"h2"),R(20,"Base Stats"),D(),b(21,"div",17)(22,"div",18)(23,"div",19),R(24,"\u2694\uFE0F"),D(),b(25,"div",20)(26,"div",21),R(27,"Attack"),D(),b(28,"div",22),R(29),D()()(),b(30,"div",18)(31,"div",19),R(32,"\u{1F6E1}\uFE0F"),D(),b(33,"div",20)(34,"div",21),R(35,"Defense"),D(),b(36,"div",22),R(37),D()()(),b(38,"div",18)(39,"div",19),R(40,"\u2764\uFE0F"),D(),b(41,"div",20)(42,"div",21),R(43,"HP"),D(),b(44,"div",22),R(45),D()()(),b(46,"div",18)(47,"div",19),R(48,"\u2B50"),D(),b(49,"div",20)(50,"div",21),R(51,"Max CP"),D(),b(52,"div",22),R(53),D()()()()(),b(54,"div",23)(55,"a",24),R(56),Wi(57,"number"),D(),b(58,"a",25),R(59),Wi(60,"number"),D()()()),n&2){let t=ce();x(6),Ne("src",t.pokemon.sprite,Ui)("alt",t.pokemon.name),x(3),Be("#",ys(10,13,t.pokemon.id,"3.0")),x(3),Ce(t.pokemon.name),x(2),zi(t.pokemon.types),x(3),Be(" Generation ",t.pokemon.generation," "),x(12),Ce(t.pokemon.baseStats.attack),x(8),Ce(t.pokemon.baseStats.defense),x(8),Ce(t.pokemon.baseStats.hp),x(8),Ce(t.pokemon.maxCP||"N/A"),x(2),Ne("routerLink",qi(22,P0,t.getPreviousPokemon())),x(),Be(" \u2190 Previous (#",ys(57,16,t.getPreviousPokemon(),"3.0"),") "),x(2),Ne("routerLink",qi(24,P0,t.getNextPokemon())),x(),Be(" Next (#",ys(60,19,t.getNextPokemon(),"3.0"),") \u2192 ")}}function ZN(n,e){n&1&&(b(0,"div",2)(1,"p"),R(2,"Pok\xE9mon not found"),D(),b(3,"a",5),R(4,"\u2190 Back to Pok\xE9dex"),D()())}var od=class n{constructor(e,t){this.route=e;this.pokemonService=t}pokemon=null;isLoading=!0;pokemonId=0;ngOnInit(){this.route.params.subscribe(e=>{this.pokemonId=+e.id,this.loadPokemon()})}loadPokemon(){this.isLoading=!0,this.pokemonService.getPokemonById(this.pokemonId).subscribe({next:e=>{this.pokemon=e,this.isLoading=!1},error:e=>{console.error("Error loading Pokemon:",e),this.isLoading=!1}})}getTypeColor(e){return this.pokemonService.getTypeColor(e)}getPreviousPokemon(){return Math.max(1,this.pokemonId-1)}getNextPokemon(){return this.pokemonId+1}static \u0275fac=function(t){return new(t||n)(z(Dt),z(vo))};static \u0275cmp=kt({type:n,selectors:[["app-pokemon-detail"]],decls:4,vars:1,consts:[[1,"pokemon-detail-container"],[1,"loading"],[1,"error"],[1,"spinner"],[1,"detail-header"],["routerLink","/",1,"back-button"],[1,"pokemon-detail-card"],[1,"pokemon-main-info"],[1,"pokemon-image-large"],[3,"src","alt"],[1,"pokemon-info"],[1,"pokemon-number-large"],[1,"pokemon-name-large"],[1,"pokemon-types-large"],[1,"type-badge-large",3,"background-color"],[1,"generation-badge"],[1,"stats-section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value-large"],[1,"navigation-buttons"],[1,"nav-button","prev",3,"routerLink"],[1,"nav-button","next",3,"routerLink"],[1,"type-badge-large"]],template:function(t,r){t&1&&(b(0,"div",0),je(1,qN,4,0,"div",1)(2,KN,61,26)(3,ZN,5,0,"div",2),D()),t&2&&(x(),Ve(r.isLoading?1:r.pokemon?2:3))},dependencies:[en,Ys,ho,cp,ap],styles:[".pokemon-detail-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem}.detail-header[_ngcontent-%COMP%]{margin-bottom:2rem}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.75rem 1.5rem;background:#3498db;color:#fff;text-decoration:none;border-radius:8px;font-weight:600;transition:background .3s}.back-button[_ngcontent-%COMP%]:hover{background:#2980b9}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pokemon-detail-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 4px 16px #0000001a}.pokemon-main-info[_ngcontent-%COMP%]{display:flex;gap:3rem;margin-bottom:3rem;align-items:center}.pokemon-image-large[_ngcontent-%COMP%]{flex-shrink:0;width:300px;height:300px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border-radius:16px;padding:2rem}.pokemon-image-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.pokemon-info[_ngcontent-%COMP%]{flex:1}.pokemon-number-large[_ngcontent-%COMP%]{font-size:1.1rem;color:#95a5a6;font-weight:600;margin-bottom:.5rem}.pokemon-name-large[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#2c3e50;margin-bottom:1rem}.pokemon-types-large[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:1.5rem;flex-wrap:wrap}.type-badge-large[_ngcontent-%COMP%]{padding:.5rem 1.25rem;border-radius:25px;font-size:1rem;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.generation-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:#ecf0f1;border-radius:20px;font-size:.9rem;font-weight:600;color:#2c3e50}.stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;color:#2c3e50;margin-bottom:1.5rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;color:#fff}.stat-card[_ngcontent-%COMP%]:nth-child(1){background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-card[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#4facfe,#00f2fe)}.stat-card[_ngcontent-%COMP%]:nth-child(3){background:linear-gradient(135deg,#43e97b,#38f9d7)}.stat-card[_ngcontent-%COMP%]:nth-child(4){background:linear-gradient(135deg,#fa709a,#fee140)}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin-bottom:.25rem}.stat-value-large[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.navigation-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;margin-top:2rem;padding-top:2rem;border-top:2px solid #ecf0f1}.nav-button[_ngcontent-%COMP%]{flex:1;padding:1rem;text-align:center;text-decoration:none;border-radius:8px;font-weight:600;transition:all .3s}.nav-button.prev[_ngcontent-%COMP%]{background:#ecf0f1;color:#2c3e50}.nav-button.prev[_ngcontent-%COMP%]:hover{background:#bdc3c7}.nav-button.next[_ngcontent-%COMP%]{background:#3498db;color:#fff}.nav-button.next[_ngcontent-%COMP%]:hover{background:#2980b9}.error[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#e74c3c}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}@media (max-width: 768px){.pokemon-detail-container[_ngcontent-%COMP%]{padding:1rem}.pokemon-main-info[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.pokemon-image-large[_ngcontent-%COMP%]{width:250px;height:250px}.pokemon-name-large[_ngcontent-%COMP%]{font-size:2rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.navigation-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})};var F0=[{path:"",component:id},{path:"pokemon/:id",component:od},{path:"**",redirectTo:""}];var L0={providers:[Tf(),Yh({eventCoalescing:!0}),Zp(F0),bp()]};function JN(n,e){if(n&1&&(b(0,"div",9),ki(),b(1,"svg",19),be(2,"path",20),D(),R(3),D()),n&2){let t=ce();x(3),Be(" ",t.errorMessage()," ")}}function YN(n,e){if(n&1&&(b(0,"div",10),ki(),b(1,"svg",19),be(2,"path",21),D(),R(3),D()),n&2){let t=ce();x(3),Be(" ",t.successMessage()," ")}}function QN(n,e){n&1&&(ki(),b(0,"svg",22),be(1,"circle",23)(2,"path",24),D(),Sc(),b(3,"span"),R(4,"Processing..."),D())}function XN(n,e){if(n&1&&R(0),n&2){let t=ce();Be(" ",t.isLoginMode()?"Sign In":"Sign Up"," ")}}var sd=class n{constructor(e){this.authService=e}isLoginMode=W(!0);email=W("");password=W("");isLoading=W(!1);errorMessage=W("");successMessage=W("");toggleMode(){this.isLoginMode.set(!this.isLoginMode()),this.errorMessage.set(""),this.successMessage.set("")}onSubmit(){return p(this,null,function*(){this.isLoading.set(!0),this.errorMessage.set(""),this.successMessage.set("");let e=this.email(),t=this.password();if(!e||!t){this.errorMessage.set("Please enter both email and password"),this.isLoading.set(!1);return}try{if(this.isLoginMode()){let{error:r}=yield this.authService.signIn(e,t);r&&this.errorMessage.set(r.message||"Failed to sign in")}else{let{error:r}=yield this.authService.signUp(e,t);r?this.errorMessage.set(r.message||"Failed to sign up"):this.successMessage.set("Account created! Please check your email to verify your account.")}}catch(r){this.errorMessage.set(r.message||"An unexpected error occurred")}finally{this.isLoading.set(!1)}})}signOut(){return p(this,null,function*(){this.isLoading.set(!0);let{error:e}=yield this.authService.signOut();e&&this.errorMessage.set(e.message||"Failed to sign out"),this.isLoading.set(!1)})}static \u0275fac=function(t){return new(t||n)(z(sr))};static \u0275cmp=kt({type:n,selectors:[["app-auth"]],decls:31,vars:20,consts:[["authForm","ngForm"],[1,"auth-container"],[1,"auth-card"],[1,"auth-switcher"],["type","button",1,"switcher-btn",3,"click","disabled"],[1,"switcher-indicator"],[1,"auth-content"],[1,"auth-header"],[1,"auth-subtitle"],[1,"message","error"],[1,"message","success"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],[1,"input-wrapper"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModelChange","ngModel","disabled"],["for","email",1,"input-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModelChange","ngModel","disabled"],["for","password",1,"input-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"message-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","viewBox","0 0 24 24",1,"btn-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,r){if(t&1){let i=Cn();b(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),oe("click",function(){return ge(i),me(r.toggleMode())}),R(4," Sign In "),D(),b(5,"button",4),oe("click",function(){return ge(i),me(r.toggleMode())}),R(6," Sign Up "),D(),be(7,"span",5),D(),b(8,"div",6)(9,"div",7)(10,"h2"),R(11),D(),b(12,"p",8),R(13),D()(),je(14,JN,4,1,"div",9),je(15,YN,4,1,"div",10),b(16,"form",11,0),oe("ngSubmit",function(){return ge(i),me(r.onSubmit())}),b(18,"div",12)(19,"div",13)(20,"input",14),vs("ngModelChange",function(s){return ge(i),vl(r.email,s)||(r.email=s),me(s)}),D(),b(21,"label",15),R(22,"Email"),D()()(),b(23,"div",12)(24,"div",13)(25,"input",16),vs("ngModelChange",function(s){return ge(i),vl(r.password,s)||(r.password=s),me(s)}),D(),b(26,"label",17),R(27,"Password"),D()()(),b(28,"button",18),je(29,QN,5,0)(30,XN,1,1),D()()()()()}t&2&&(x(3),Ue("active",r.isLoginMode()),Ne("disabled",r.isLoading()),x(2),Ue("active",!r.isLoginMode()),Ne("disabled",r.isLoading()),x(2),Ue("switch-right",!r.isLoginMode()),x(),Ue("switch-content",!r.isLoginMode()),x(3),Ce(r.isLoginMode()?"Welcome Back":"Create Account"),x(2),Ce(r.isLoginMode()?"Sign in to your account":"Sign up to get started"),x(),Ve(r.errorMessage()?14:-1),x(),Ve(r.successMessage()?15:-1),x(5),ms("ngModel",r.email),Ne("disabled",r.isLoading()),x(5),ms("ngModel",r.password),Ne("disabled",r.isLoading()),x(3),Ne("disabled",r.isLoading()),x(),Ve(r.isLoading()?29:30))},dependencies:[en,_u,gE,vu,cE,lE,sg,og,ig],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-width:100%;height:max-content}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:0;box-shadow:0 20px 60px #00000026;width:100%;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .4s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.auth-switcher[_ngcontent-%COMP%]{display:flex;position:relative;background:#f5f7fa;border-bottom:1px solid #e5e7eb}.switcher-btn[_ngcontent-%COMP%]{flex:1;padding:16px;background:transparent;border:none;font-size:15px;font-weight:600;color:#6b7280;cursor:pointer;transition:color .3s ease;position:relative;z-index:2}.switcher-btn[_ngcontent-%COMP%]:hover:not(:disabled){color:#667eea}.switcher-btn.active[_ngcontent-%COMP%]{color:#667eea}.switcher-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.switcher-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:50%;height:3px;background:#667eea;transition:transform .3s cubic-bezier(.4,0,.2,1);z-index:1}.switcher-indicator.switch-right[_ngcontent-%COMP%]{transform:translate(100%)}.auth-content[_ngcontent-%COMP%]{padding:40px;transition:opacity .3s ease}.auth-content.switch-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;color:#1a1a1a;font-size:28px;font-weight:700;letter-spacing:-.5px}.auth-subtitle[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px;font-weight:400}.auth-form[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative}.form-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:1px solid #e5e7eb;border-radius:8px;font-size:15px;transition:all .3s ease;box-sizing:border-box;background:#fff;color:#1a1a1a}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]:focus + .input-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .input-label[_ngcontent-%COMP%]{transform:translateY(-20px) scale(.85);color:#667eea}.form-input[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed;opacity:.6}.input-label[_ngcontent-%COMP%]{position:absolute;left:16px;top:14px;color:#9ca3af;font-size:15px;font-weight:400;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1);transform-origin:left top}.btn[_ngcontent-%COMP%]{width:100%;padding:16px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;position:relative;overflow:hidden}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff;box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5568d3;transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);background:#5568d3}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.btn-spinner[_ngcontent-%COMP%]{width:20px;height:20px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{padding:14px 16px;border-radius:12px;margin-bottom:24px;display:flex;align-items:center;gap:12px;font-size:14px;font-weight:500;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.message-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.message.error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#dc2626;border:1px solid #fecaca}.message.success[_ngcontent-%COMP%]{background-color:#f0fdf4;color:#16a34a;border:1px solid #bbf7d0}"]})};function eO(n,e){n&1&&(b(0,"div",1),be(1,"div",2),b(2,"p"),R(3,"Loading..."),D()())}function tO(n,e){if(n&1){let t=Cn();b(0,"span",8),R(1),D(),b(2,"button",9),oe("click",function(){ge(t);let i=ce(2);return me(i.signOut())}),R(3,"Sign Out"),D()}if(n&2){let t,r=ce(2);x(),Ce((t=r.authService.currentUser())==null?null:t.email)}}function nO(n,e){if(n&1){let t=Cn();b(0,"button",10),oe("click",function(){ge(t);let i=ce(2);return me(i.showAuthModal.set(!0))}),R(1,"Sign In / Sign Up"),D()}}function rO(n,e){if(n&1){let t=Cn();b(0,"div",11),oe("click",function(){ge(t);let i=ce(2);return me(i.showAuthModal.set(!1))}),b(1,"div",12),oe("click",function(i){return ge(t),me(i.stopPropagation())}),be(2,"app-auth"),D()()}}function iO(n,e){if(n&1&&(b(0,"div",3),be(1,"img",4),b(2,"div",5),je(3,tO,4,1)(4,nO,2,0,"button",6),D()(),be(5,"router-outlet"),je(6,rO,3,0,"div",7)),n&2){let t=ce();x(3),Ve(t.isAuthenticated()?3:4),x(3),Ve(t.showAuthModal()?6:-1)}}var ad=class n{constructor(e){this.authService=e;ws(()=>{this.isAuthenticated.set(this.authService.isAuthenticated()),this.isLoading.set(this.authService.isLoading()),this.authService.isAuthenticated()&&this.showAuthModal.set(!1)})}isAuthenticated=W(!1);isLoading=W(!0);showAuthModal=W(!1);signOut(){return p(this,null,function*(){yield this.authService.signOut()})}static \u0275fac=function(t){return new(t||n)(z(sr))};static \u0275cmp=kt({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"app-container"],[1,"loading-screen"],[1,"spinner"],[1,"header-bar"],["src","/Images/Pok\xE9mon_GO_logo.svg.png","alt","Pok\xE9mon GO",1,"pokemon-go-logo"],[1,"auth-actions"],[1,"btn","btn-primary"],[1,"modal-overlay"],[1,"user-email"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"]],template:function(t,r){t&1&&(b(0,"div",0),je(1,eO,4,0,"div",1)(2,iO,7,2),D()),t&2&&(x(),Ve(r.isLoading()?1:2))},dependencies:[qs,en,sd],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#ff6b6b,#4ecdc4,#45b7d1);background-attachment:fixed}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.header-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;background:#fffffff2;box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:100}.pokemon-go-logo[_ngcontent-%COMP%]{height:40px;width:auto;object-fit:contain}.auth-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.user-email[_ngcontent-%COMP%]{color:#666;font-size:14px}.btn[_ngcontent-%COMP%]{padding:8px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#764ba2}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:0;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 10px 40px #0003}.modal-close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:none;border:none;font-size:28px;color:#666;cursor:pointer;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s;z-index:10}.modal-close[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.loading-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;color:#fff}.loading-screen[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}"]})};yp(ad,L0).catch(n=>console.error(n));
